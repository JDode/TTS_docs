
<!-- saved from url=(0091)http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CASE</title>
    
    <script type="text/javascript" src="./CASE_files/jquery.min.js">
    </script>
    <script type="text/javascript" src="./CASE_files/jquery.snippet.js">
    </script>
    <script type="text/javascript" src="./CASE_files/main.js">
    </script>
    <link type="text/css" href="./CASE_files/index.css" rel="Stylesheet">
    <link type="text/css" href="./CASE_files/jquery.snippet.css" rel="Stylesheet">
  </head><style type="text/css" id="37829250774"></style>
  <body>
    <div class="source_style_case">
      <a name="page_top_case" id="top_anchor">
      </a><a id="link_top" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#page_top_case">Top</a>
      <h1>JAVA Struts2 DAY01</h1>
      <ol class="index">
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#case1">Struts2之HelloWorld，Step1-4</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#case2">Struts2之HelloWorld，Step5-7</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#case3">将页面表单中的数据提交给Action</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#case4">使用EL表达式，显示Action中的数据</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#case5">NetCTOSS资费列表，Step1-3</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#case6">NetCTOSS资费列表，Step4-6</a>
        </li>
      </ol>
      <a name="case1">
      </a>
      <h2>1 Struts2之HelloWorld，Step1-4</h2>
      <h3>1.1 问题</h3>
      <p>使用Struts2框架，写一个HelloWorld示例。其中，在Action的业务方法中输出“Hello,Action.”，在JSP页面上显示“Hello,Struts2.”。</p>
      <p>本案例要求完成Struts2使用步骤1-4，来构建起Struts2使用的准备环境。</p>
      <h3>1.2 方案</h3>
      <p>Struts2使用步骤：</p>
      <ol class="list">
        <li>创建WEB项目
</li>
        <li>导入Struts2核心包
</li>
        <li>配置前端控制器
</li>
        <li>创建struts.xml
</li>
      </ol>
      <h3>1.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：创建WEB项目</p>
      <p>在MyEclipse中，点击File ( New ( WebProject，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image001.png">
        <p>图-1</p>
      </div>
      <p>在弹出框中输入项目名，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image002.png">
        <p>图-2</p>
      </div>
      <p class="number">步骤二：导入Struts2核心包</p>
      <p>要想使用Struts2，至少需要导入5个核心包，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image003.png">
        <p>图-3</p>
      </div>
      <p>将这5个包复制到新创建项目的/WEB-INF/lib目录下，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image004.png">
        <p>图-4</p>
      </div>
      <p class="number">步骤三：配置前端控制器</p>
      <p>在web.xml中，配置前端控制器filter，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span><span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;</span>web<span class="sh_symbol">-</span>app version<span class="sh_symbol">=</span><span class="sh_string">"3.0"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/xml/ns/javaee"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xmlns<span class="sh_symbol">:</span>xsi<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/2001/XMLSchema-instance"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xsi<span class="sh_symbol">:</span>schemaLocation<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/xml/ns/javaee </span></li><li><span class="sh_string">&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>display<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;&lt;/</span>display<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>list<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">&gt;</span>index<span class="sh_symbol">.</span>jsp<span class="sh_symbol">&lt;/</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>list<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;!--</span>前端控制器 <span class="sh_symbol">--&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>struts2<span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span><span class="sh_keyword">class</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;org<span class="sh_symbol">.</span>apache<span class="sh_symbol">.</span>struts2<span class="sh_symbol">.</span>dispatcher<span class="sh_symbol">.</span>ng<span class="sh_symbol">.</span>filter<span class="sh_symbol">.</span>StrutsPrepareAndExecuteFilter</li><li class="bold_code"><span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span><span class="sh_keyword">class</span><span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>mapping<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>struts2<span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>url<span class="sh_symbol">-</span>pattern<span class="sh_symbol">&gt;</span><span class="sh_comment">/*&lt;/url-pattern&gt;</span></li><li class="bold_code"><span class="sh_comment">&lt;/filter-mapping&gt;</span></li><li><span class="sh_comment">&lt;/web-app&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app version="3.0" 
	xmlns="http://java.sun.com/xml/ns/javaee" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
	http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"&gt;
&lt;display-name&gt;&lt;/display-name&gt;	
&lt;welcome-file-list&gt;
&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
#cold_bold&lt;!--前端控制器 --&gt;
#cold_bold&lt;filter&gt;
#cold_bold&lt;filter-name&gt;struts2&lt;/filter-name&gt;
#cold_bold&lt;filter-class&gt;
#cold_bold	org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter
#cold_bold&lt;/filter-class&gt;
#cold_bold&lt;/filter&gt;
#cold_bold&lt;filter-mapping&gt;
#cold_bold&lt;filter-name&gt;struts2&lt;/filter-name&gt;
#cold_bold&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
#cold_bold&lt;/filter-mapping&gt;
&lt;/web-app&gt;
</pre></div></div>
      <p class="number">步骤四：创建struts.xml</p>
      <p>在src下，创建名为struts.xml的配置文件，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image005.png">
        <p>图-5</p>
      </div>
      <p class="emphasiz">注意：该配置文件必须放于src下，且名称必须为struts.xml。</p>
      <p>打开struts.xml，设置其版本信息及DTD引用。这些内容可以从Struts2默认配置文件中直接复制过来，该默认配置文件名为struts-default.xml，位于核心包struts2-core-2.1.8.jar根路径下，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image006.png">
        <p>图-6</p>
      </div>
      <p>打开struts-default.xml，从中复制出该XML的版本信息及DTD，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image007.png">
        <p>图-7</p>
      </div>
      <p>将这些复制好的内容，粘贴到刚才创建的struts.xml中。其中注释部分可以删除，完成后struts.xml的代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span> <span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE struts PUBLIC</li><li>    <span class="sh_string">"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"</span></li><li>    <span class="sh_string">"http://struts.apache.org/dtds/struts-2.1.7.dtd"</span><span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd"&gt;
</pre></div></div>
      <h3>1.4 完整代码</h3>
      <p>本案例web.xml完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span><span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;</span>web<span class="sh_symbol">-</span>app version<span class="sh_symbol">=</span><span class="sh_string">"3.0"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/xml/ns/javaee"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xmlns<span class="sh_symbol">:</span>xsi<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/2001/XMLSchema-instance"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xsi<span class="sh_symbol">:</span>schemaLocation<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/xml/ns/javaee </span></li><li><span class="sh_string">&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>display<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;&lt;/</span>display<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>list<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">&gt;</span>index<span class="sh_symbol">.</span>jsp<span class="sh_symbol">&lt;/</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>list<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span> 前端控制器 <span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>struts2<span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span><span class="sh_keyword">class</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;org<span class="sh_symbol">.</span>apache<span class="sh_symbol">.</span>struts2<span class="sh_symbol">.</span>dispatcher<span class="sh_symbol">.</span>ng<span class="sh_symbol">.</span>filter<span class="sh_symbol">.</span>StrutsPrepareAndExecuteFilter</li><li><span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span><span class="sh_keyword">class</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>mapping<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>struts2<span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>url<span class="sh_symbol">-</span>pattern<span class="sh_symbol">&gt;</span><span class="sh_comment">/*&lt;/url-pattern&gt;</span></li><li><span class="sh_comment">&lt;/filter-mapping&gt;</span></li><li><span class="sh_comment">&lt;/web-app&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app version="3.0" 
	xmlns="http://java.sun.com/xml/ns/javaee" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
	http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"&gt;
&lt;display-name&gt;&lt;/display-name&gt;	
&lt;welcome-file-list&gt;
&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
&lt;!-- 前端控制器 --&gt;
&lt;filter&gt;
&lt;filter-name&gt;struts2&lt;/filter-name&gt;
&lt;filter-class&gt;
	org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter
&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
&lt;filter-name&gt;struts2&lt;/filter-name&gt;
&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
&lt;/web-app&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>struts.xml完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span> <span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE struts PUBLIC</li><li>    <span class="sh_string">"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"</span></li><li>    <span class="sh_string">"http://struts.apache.org/dtds/struts-2.1.7.dtd"</span><span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd"&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case2">
      </a>
      <h2>2 Struts2之HelloWorld，Step5-7</h2>
      <h3>2.1 问题</h3>
      <p>继续实现Struts2的HelloWorld示例，完成在Action的业务方法中输出“Hello,Action.”，在JSP页面上显示“Hello,Struts2.”。</p>
      <h3>2.2 方案</h3>
      <p>Struts2使用步骤：</p>
      <ol class="list">
        <li>编写业务控制器Action
</li>
        <li>编写JSP页面 
</li>
        <li>配置struts.xml 
</li>
      </ol>
      <h3>2.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：编写业务控制器Action</p>
      <p>创建名为action的包，并在该包下创建类HelloAction，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image008.png">
        <p>图-8</p>
      </div>
      <p>在HelloAction中，创建方法sayHello，该方法必须满足如下条件：</p>
      <ul class="list">
        <li>方法是public的 
</li>
        <li>返回值为String类型 
</li>
        <li>参数列表为空 
</li>
      </ul>
      <p>在该方法中输出“Hello，Action.”，并返回字符串”success”，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

public class HelloAction {

	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");
		return "success";
	}

}
</pre></div></div>
      <p class="number">步骤二：编写JSP页面</p>
      <p>在WebRoot下，创建页面hello.jsp，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image009.png">
        <p>图-9</p>
      </div>
      <p>在页面上用标题显示出“Hello，Struts2.”。实现代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>Hello<span class="sh_symbol">,</span>Struts2<span class="sh_symbol">.&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;Hello,Struts2.&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p class="number">步骤三：配置struts.xml</p>
      <p>在struts.xml中，配置Action及JSP。主要是配置请求找到Action的途径，以及Action跳转到JSP的途径，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span> <span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE struts PUBLIC</li><li>    <span class="sh_string">"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"</span></li><li>    <span class="sh_string">"http://struts.apache.org/dtds/struts-2.1.7.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>struts<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package：包，用于对Action进行封装。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">1</span>、name：包名，根元素下可以有多个包，彼此之间不能重名。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">2</span>、<span class="sh_keyword">extends</span>：继承，用于指定继承的包，相当于将继承包下的配置信息复制到了当前包下。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">3</span>、namespace：命名空间，用于规定Action的访问路径，必须以“<span class="sh_symbol">/</span>”开头。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">4</span>、请求Action时，按照如下格式拼写URL：</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   http<span class="sh_symbol">:</span><span class="sh_comment">//IP:PORT/ProjectName/NAMESPACE/ACTIONNAME.action</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>package name<span class="sh_symbol">=</span><span class="sh_string">"day01"</span> namespace<span class="sh_symbol">=</span><span class="sh_string">"/demo"</span> <span class="sh_keyword">extends</span><span class="sh_symbol">=</span><span class="sh_string">"struts-default"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action：业务控制器，用于注册业务控制器组件（类）。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">1</span>、name：action名称，用于规定Action的访问路径。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一个包下可以有多个action，彼此之间不能重名。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">2</span>、<span class="sh_keyword">class</span>：业务控制器组件，用于指定业务控制器对应的类。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">3</span>、method：方法，用于指定访问当前action时要调用的方法。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>action name<span class="sh_symbol">=</span><span class="sh_string">"hello"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"action.HelloAction"</span> method<span class="sh_symbol">=</span><span class="sh_string">"sayHello"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result：输出组件，用于转发、重定向、直接输出。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">1</span>、name：名称，一个action下可以有多个result，彼此之间不能重名。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">2</span>、默认做转发，标记内容设置成转发的页面。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>result name<span class="sh_symbol">=</span><span class="sh_string">"success"</span><span class="sh_symbol">&gt;</span></li><li>#<span class="sh_normal">cold_bold&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="sh_symbol">/</span>hello<span class="sh_symbol">.</span>jsp</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>result<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>action<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>package<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>struts<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd"&gt;
&lt;struts&gt;
#cold_bold	&lt;!-- 
#cold_bold		package：包，用于对Action进行封装。
#cold_bold		1、name：包名，根元素下可以有多个包，彼此之间不能重名。
#cold_bold		2、extends：继承，用于指定继承的包，相当于将继承包下的配置信息复制到了当前包下。
#cold_bold		3、namespace：命名空间，用于规定Action的访问路径，必须以“/”开头。
#cold_bold		4、请求Action时，按照如下格式拼写URL：
#cold_bold		   http://IP:PORT/ProjectName/NAMESPACE/ACTIONNAME.action
#cold_bold	--&gt;
#cold_bold	&lt;package name="day01" namespace="/demo" extends="struts-default"&gt;
#cold_bold		&lt;!-- 
#cold_bold			action：业务控制器，用于注册业务控制器组件（类）。
#cold_bold			1、name：action名称，用于规定Action的访问路径。
#cold_bold				一个包下可以有多个action，彼此之间不能重名。
#cold_bold			2、class：业务控制器组件，用于指定业务控制器对应的类。
#cold_bold			3、method：方法，用于指定访问当前action时要调用的方法。
#cold_bold		 --&gt;
#cold_bold		&lt;action name="hello" class="action.HelloAction" method="sayHello"&gt;
#cold_bold			&lt;!-- 
#cold_bold				result：输出组件，用于转发、重定向、直接输出。
#cold_bold				1、name：名称，一个action下可以有多个result，彼此之间不能重名。
#cold_bold				2、默认做转发，标记内容设置成转发的页面。
#cold_bold			 --&gt;
#cold_bold			&lt;result name="success"&gt;
#cold_bold				/hello.jsp
#cold_bold			&lt;/result&gt;
#cold_bold		&lt;/action&gt;
#cold_bold	&lt;/package&gt;
&lt;/struts&gt;
</pre></div></div>
      <p class="number">步骤四：测试</p>
      <p>部署该项目并启动tomcat，打开浏览器，针对当前的案例，在地址栏中输入如下访问地址http://localhost:8088/StrutsDay01/demo/hello.action。其中demo对应的是配置文件中的namespace值，hello对应的是配置文件中的action名称，“.action”是固定的后缀，也可以省略。</p>
      <p>点击回车键，浏览器显示效果如下图：</p>
      <p class="emphasiz">/</p>
      <p class="emphasiz">图-10</p>
      <p>同时，控制台输出内容如下图：</p>
      <div class="image">
        <img src="./CASE_files/image010.png">
        <p>图-11</p>
      </div>
      <h3>2.4 完整代码</h3>
      <p>本案例的web.xml完整代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span><span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;</span>web<span class="sh_symbol">-</span>app version<span class="sh_symbol">=</span><span class="sh_string">"3.0"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/xml/ns/javaee"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xmlns<span class="sh_symbol">:</span>xsi<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/2001/XMLSchema-instance"</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;xsi<span class="sh_symbol">:</span>schemaLocation<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/xml/ns/javaee </span></li><li><span class="sh_string">&nbsp;&nbsp;&nbsp;&nbsp;http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>display<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;&lt;/</span>display<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>list<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">&gt;</span>index<span class="sh_symbol">.</span>jsp<span class="sh_symbol">&lt;/</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>welcome<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>list<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span> 前端控制器 <span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>struts2<span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span><span class="sh_keyword">class</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;org<span class="sh_symbol">.</span>apache<span class="sh_symbol">.</span>struts2<span class="sh_symbol">.</span>dispatcher<span class="sh_symbol">.</span>ng<span class="sh_symbol">.</span>filter<span class="sh_symbol">.</span>StrutsPrepareAndExecuteFilter</li><li><span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span><span class="sh_keyword">class</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>mapping<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span>struts2<span class="sh_symbol">&lt;/</span>filter<span class="sh_symbol">-</span>name<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>url<span class="sh_symbol">-</span>pattern<span class="sh_symbol">&gt;</span><span class="sh_comment">/*&lt;/url-pattern&gt;</span></li><li><span class="sh_comment">&lt;/filter-mapping&gt;</span></li><li><span class="sh_comment">&lt;/web-app&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;web-app version="3.0" 
	xmlns="http://java.sun.com/xml/ns/javaee" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
	http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"&gt;
&lt;display-name&gt;&lt;/display-name&gt;	
&lt;welcome-file-list&gt;
&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;
&lt;/welcome-file-list&gt;
&lt;!-- 前端控制器 --&gt;
&lt;filter&gt;
&lt;filter-name&gt;struts2&lt;/filter-name&gt;
&lt;filter-class&gt;
	org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter
&lt;/filter-class&gt;
&lt;/filter&gt;
&lt;filter-mapping&gt;
&lt;filter-name&gt;struts2&lt;/filter-name&gt;
&lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
&lt;/web-app&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>HelloAction完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

public class HelloAction {

	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");
		return "success";
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>struts.xml完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span> <span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE struts PUBLIC</li><li>    <span class="sh_string">"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"</span></li><li>    <span class="sh_string">"http://struts.apache.org/dtds/struts-2.1.7.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>struts<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package：包，用于对Action进行封装。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">1</span>、name：包名，根元素下可以有多个包，彼此之间不能重名。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">2</span>、<span class="sh_keyword">extends</span>：继承，用于指定继承的包，相当于将继承包下的配置信息复制到了当前包下。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">3</span>、namespace：命名空间，用于规定Action的访问路径，必须以“<span class="sh_symbol">/</span>”开头。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">4</span>、请求Action时，按照如下格式拼写URL：</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   http<span class="sh_symbol">:</span><span class="sh_comment">//IP:PORT/ProjectName/NAMESPACE/ACTIONNAME.action</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>package name<span class="sh_symbol">=</span><span class="sh_string">"day01"</span> namespace<span class="sh_symbol">=</span><span class="sh_string">"/demo"</span> <span class="sh_keyword">extends</span><span class="sh_symbol">=</span><span class="sh_string">"struts-default"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action：业务控制器，用于注册业务控制器组件（类）。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">1</span>、name：action名称，用于规定Action的访问路径。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一个包下可以有多个action，彼此之间不能重名。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">2</span>、<span class="sh_keyword">class</span>：业务控制器组件，用于指定业务控制器对应的类。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">3</span>、method：方法，用于指定访问当前action时要调用的方法。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>action name<span class="sh_symbol">=</span><span class="sh_string">"hello"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"action.HelloAction"</span> method<span class="sh_symbol">=</span><span class="sh_string">"sayHello"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result：输出组件，用于转发、重定向、直接输出。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">1</span>、name：名称，一个action下可以有多个result，彼此之间不能重名。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_number">2</span>、默认做转发，标记内容设置成转发的页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>result name<span class="sh_symbol">=</span><span class="sh_string">"success"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">/</span>hello<span class="sh_symbol">.</span>jsp</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>result<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>action<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>package<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>struts<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd"&gt;
&lt;struts&gt;
	&lt;!-- 
		package：包，用于对Action进行封装。
		1、name：包名，根元素下可以有多个包，彼此之间不能重名。
		2、extends：继承，用于指定继承的包，相当于将继承包下的配置信息复制到了当前包下。
		3、namespace：命名空间，用于规定Action的访问路径，必须以“/”开头。
		4、请求Action时，按照如下格式拼写URL：
		   http://IP:PORT/ProjectName/NAMESPACE/ACTIONNAME.action
	--&gt;
	&lt;package name="day01" namespace="/demo" extends="struts-default"&gt;
		&lt;!-- 
			action：业务控制器，用于注册业务控制器组件（类）。
			1、name：action名称，用于规定Action的访问路径。
				一个包下可以有多个action，彼此之间不能重名。
			2、class：业务控制器组件，用于指定业务控制器对应的类。
			3、method：方法，用于指定访问当前action时要调用的方法。
		 --&gt;
		&lt;action name="hello" class="action.HelloAction" method="sayHello"&gt;
			&lt;!-- 
				result：输出组件，用于转发、重定向、直接输出。
				1、name：名称，一个action下可以有多个result，彼此之间不能重名。
				2、默认做转发，标记内容设置成转发的页面。
			 --&gt;
			&lt;result name="success"&gt;
				/hello.jsp
			&lt;/result&gt;
		&lt;/action&gt;
	&lt;/package&gt;
&lt;/struts&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>hello.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>Hello<span class="sh_symbol">,</span>Struts2<span class="sh_symbol">.&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;Hello,Struts2.&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case3">
      </a>
      <h2>3 将页面表单中的数据提交给Action</h2>
      <h3>3.1 问题</h3>
      <p>在Struts2框架下，如何将表单数据传递给业务控制器Action。</p>
      <h3>3.2 方案</h3>
      <p>Struts2中，表单向Action传递参数的方式有2种，并且这2种传参方式都是Struts2默认实现的，他们分别是基本属性注入、域模型注入。其中</p>
      <ul class="list">
        <li>基本属性注入，是将表单的数据项分别传入给Action中的一些基本类型。
</li>
        <li>域模型注入，是将表单的数据项打包传入给Action中的一个实体对象。
</li>
      </ul>
      <p>我们可以使用项目StrutsDay01的HelloWorld示例，在其基础上练习使用这2种方式完成页面向Action的参数传递。具体的，我们可以在项目首页index.jsp上追加表单，并在表单中模拟一些数据，将这些数据提交给HelloAction，最后在HelloAction中将接收的参数输出到控制台。</p>
      <h3>3.3 步骤</h3>
      <p>1）基本属性注入</p>
      <p class="number">步骤一：追加表单，用于输入数据</p>
      <p>在StrutsDay01项目的index.jsp中，追加表单，并将该表单设置提交给HelloAction，即将form的action属性设置为”/StrutsDay01/demo/hello.action”。</p>
      <p>在表单中增加一个文本框，用于输入一个姓名，该文本框的name属性值为name。代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@ page language<span class="sh_symbol">=</span><span class="sh_string">"java"</span> import<span class="sh_symbol">=</span><span class="sh_string">"java.util.*"</span> pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span></li><li><span class="sh_predef_func">String</span> path <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getContextPath</span><span class="sh_symbol">();</span></li><li><span class="sh_predef_func">String</span> basePath <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getScheme</span><span class="sh_symbol">()+</span><span class="sh_string">"://"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerName</span><span class="sh_symbol">()+</span><span class="sh_string">":"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerPort</span><span class="sh_symbol">()+</span>path<span class="sh_symbol">+</span><span class="sh_string">"/"</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">%&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE HTML PUBLIC <span class="sh_string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>base href<span class="sh_symbol">=</span><span class="sh_string">"&lt;%=basePath%&gt;"</span><span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>My JSP <span class="sh_string">'index.jsp'</span> starting page<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"pragma"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"cache-control"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"expires"</span> content<span class="sh_symbol">=</span><span class="sh_string">"0"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"keywords"</span> content<span class="sh_symbol">=</span><span class="sh_string">"keyword1,keyword2,keyword3"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"description"</span> content<span class="sh_symbol">=</span><span class="sh_string">"This is my page"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>link rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> href<span class="sh_symbol">=</span><span class="sh_string">"styles.css"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>    This is my JSP page<span class="sh_symbol">.</span> <span class="sh_symbol">&lt;</span>br<span class="sh_symbol">&gt;&lt;</span>br<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">"/StrutsDay01/demo/hello.action"</span> method<span class="sh_symbol">=</span><span class="sh_string">"post"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>演示基本属性注入 <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;姓名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"realName"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"submit"</span> value<span class="sh_symbol">=</span><span class="sh_string">"提交"</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@ page language="java" import="java.util.*" pageEncoding="utf-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;base href="&lt;%=basePath%&gt;"&gt;

&lt;title&gt;My JSP 'index.jsp' starting page&lt;/title&gt;
	&lt;meta http-equiv="pragma" content="no-cache"&gt;
	&lt;meta http-equiv="cache-control" content="no-cache"&gt;
	&lt;meta http-equiv="expires" content="0"&gt;
	&lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
	&lt;meta http-equiv="description" content="This is my page"&gt;
	&lt;!--
	&lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
	--&gt;
&lt;/head&gt;

&lt;body&gt;
    This is my JSP page. &lt;br&gt;&lt;br&gt;

#cold_bold&lt;form action="/StrutsDay01/demo/hello.action" method="post"&gt;
#cold_bold	&lt;!--演示基本属性注入 --&gt;
#cold_bold	姓名：&lt;input type="text" name="realName"/&gt;&lt;br/&gt;&lt;br/&gt;
#cold_bold	
#cold_bold	&lt;input type="submit" value="提交"/&gt;
#cold_bold&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p class="number">步骤二：HelloAction中，接收表单传入的参数</p>
      <p>在HelloAction中，追加属性用于接收表单传入的姓名参数，该属性的名称要求与文本框的name值相同(realName)，并且该属性需要具备set方法。</p>
      <p>在业务方法中输出属性realName的值。同时为了方便观察代码执行的顺序，建议在Action默认构造器中，输出任意的文字，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_function">HelloAction</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"实例化Action..."</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 定义基本类型属性，接收表单参数：姓名</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> realName<span class="sh_symbol">;</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setRealName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> realName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入参数realName..."</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName <span class="sh_symbol">=</span> realName<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出基本类型数据</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"姓名："</span> <span class="sh_symbol">+</span> realName<span class="sh_symbol">);</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

public class HelloAction {

#cold_bold	public HelloAction() {
#cold_bold		System.out.println("实例化Action...");
#cold_bold	}

#cold_bold	// 定义基本类型属性，接收表单参数：姓名
#cold_bold	private String realName;
#cold_bold
#cold_bold	public void setRealName(String realName) {
#cold_bold		System.out.println("注入参数realName...");
#cold_bold		this.realName = realName;
#cold_bold	}
	
	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");

#cold_bold		// 输出基本类型数据
#cold_bold		System.out.println("姓名：" + realName);

		return "success";
	}

}
</pre></div></div>
      <p class="number">步骤三：测试</p>
      <p>重新部署该项目并启动tomcat，打开浏览器，针对当前的案例，在地址栏中输入如下访问地址http://localhost:8088/StrutsDay01。点击回车，页面显示出项目首页的内容，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image011.png">
        <p>图-12</p>
      </div>
      <p>在姓名文本框中输入任意内容（如Tarena），点击提交按钮，然后观察MyEclipse控制台输出的内容，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image012.png">
        <p>图-13</p>
      </div>
      <p>控制台输出的顺序可以证明代码的执行顺序为：实例化Action(调用set方法注入参数(调用业务方法，当然这个过程是Struts2的API自行实现的，我们只需要在写代码时满足上述步骤中的要求即可。</p>
      <p>由于index.jsp中的表单将请求提交给HelloAction，而HelloAction又会跳转到hello.jsp页面，因此最终浏览器显示的效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image013.png">
        <p>图-14</p>
      </div>
      <p>2）域模型注入</p>
      <p class="number">步骤一：修改表单，追加演示数据</p>
      <p>修改表单，追加用户名、密码两个文本框，模拟输入用户的相关信息，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@ page language<span class="sh_symbol">=</span><span class="sh_string">"java"</span> import<span class="sh_symbol">=</span><span class="sh_string">"java.util.*"</span> pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span></li><li><span class="sh_predef_func">String</span> path <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getContextPath</span><span class="sh_symbol">();</span></li><li><span class="sh_predef_func">String</span> basePath <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getScheme</span><span class="sh_symbol">()+</span><span class="sh_string">"://"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerName</span><span class="sh_symbol">()+</span><span class="sh_string">":"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerPort</span><span class="sh_symbol">()+</span>path<span class="sh_symbol">+</span><span class="sh_string">"/"</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">%&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE HTML PUBLIC <span class="sh_string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>base href<span class="sh_symbol">=</span><span class="sh_string">"&lt;%=basePath%&gt;"</span><span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>My JSP <span class="sh_string">'index.jsp'</span> starting page<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"pragma"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"cache-control"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"expires"</span> content<span class="sh_symbol">=</span><span class="sh_string">"0"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"keywords"</span> content<span class="sh_symbol">=</span><span class="sh_string">"keyword1,keyword2,keyword3"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"description"</span> content<span class="sh_symbol">=</span><span class="sh_string">"This is my page"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>link rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> href<span class="sh_symbol">=</span><span class="sh_string">"styles.css"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>    This is my JSP page<span class="sh_symbol">.</span> <span class="sh_symbol">&lt;</span>br<span class="sh_symbol">&gt;&lt;</span>br<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">"/StrutsDay01/demo/hello.action"</span> method<span class="sh_symbol">=</span><span class="sh_string">"post"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>演示基本属性注入 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;姓名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"realName"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>演示域模型注入 <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;用户名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> <span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;密码：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"password"</span> <span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"submit"</span> value<span class="sh_symbol">=</span><span class="sh_string">"提交"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@ page language="java" import="java.util.*" pageEncoding="utf-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;base href="&lt;%=basePath%&gt;"&gt;

&lt;title&gt;My JSP 'index.jsp' starting page&lt;/title&gt;
	&lt;meta http-equiv="pragma" content="no-cache"&gt;
	&lt;meta http-equiv="cache-control" content="no-cache"&gt;
	&lt;meta http-equiv="expires" content="0"&gt;
	&lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
	&lt;meta http-equiv="description" content="This is my page"&gt;
	&lt;!--
	&lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
	--&gt;
&lt;/head&gt;

&lt;body&gt;
    This is my JSP page. &lt;br&gt;&lt;br&gt;

&lt;form action="/StrutsDay01/demo/hello.action" method="post"&gt;
	&lt;!--演示基本属性注入 --&gt;
	姓名：&lt;input type="text" name="realName"/&gt;&lt;br/&gt;&lt;br/&gt;
#cold_bold	&lt;!--演示域模型注入 --&gt;
#cold_bold	用户名：&lt;input type="text" /&gt;&lt;br/&gt;&lt;br/&gt;
#cold_bold	密码：&lt;input type="password" /&gt;&lt;br/&gt;&lt;br/&gt;
	
	&lt;input type="submit" value="提交"/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p class="number">步骤二：创建实体类</p>
      <p>创建包entity，用于存放实体类。在entity包下创建实体类User，用于封装表单中追加的数据，即用户名、密码。User中要包含2个属性，用于封装用户名、密码，并给属性提供get和set方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package entity<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> User <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> userName<span class="sh_symbol">;</span><span class="sh_comment">// 用户名</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> password<span class="sh_symbol">;</span><span class="sh_comment">// 密码</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getPassword</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> password<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getUserName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> userName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> userName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>userName <span class="sh_symbol">=</span> userName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> password<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>password <span class="sh_symbol">=</span> password<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package entity;

public class User {

	private String userName;// 用户名
	private String password;// 密码

	public String getPassword() {
		return password;
	}

	public String getUserName() {
		return userName;
	}

	public void setUserName(String userName) {
		this.userName = userName;
	}

	public void setPassword(String password) {
		this.password = password;
	}

}
</pre></div></div>
      <p class="number">步骤三：修改HelloAction,接收表单传入的参数</p>
      <p>在HelloAction中，追加属性用于接收表单传入的用户名、密码参数，该属性的类型为User类型，名称为user，并为该属性提供get和set方法。</p>
      <p>在业务方法中输出属性user的值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_function">HelloAction</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"实例化Action..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 定义基本类型属性，接收表单参数：姓名</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> realName<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setRealName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> realName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入参数realName..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName <span class="sh_symbol">=</span> realName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//定义实体对象属性，接收表单参数：用户名、密码</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user<span class="sh_symbol">;</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入对象user..."</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>user<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出基本类型数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"姓名："</span> <span class="sh_symbol">+</span> realName<span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出域模型方式注入的参数</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"用户名："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getUserName</span><span class="sh_symbol">());</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"密码："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getPassword</span><span class="sh_symbol">());</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import entity.User;

public class HelloAction {

	public HelloAction() {
		System.out.println("实例化Action...");
	}

	// 定义基本类型属性，接收表单参数：姓名
	private String realName;

	public void setRealName(String realName) {
		System.out.println("注入参数realName...");
		this.realName = realName;
	}
	
#cold_bold	//定义实体对象属性，接收表单参数：用户名、密码
#cold_bold	private User user;
#cold_bold
#cold_bold	public void setUser(User user) {
#cold_bold		System.out.println("注入对象user...");
#cold_bold		this.user = user;
#cold_bold	}
#cold_bold	
#cold_bold	public User getUser() {
#cold_bold		return this.user;
#cold_bold	}

	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");

		// 输出基本类型数据
		System.out.println("姓名：" + realName);
#cold_bold		// 输出域模型方式注入的参数
#cold_bold		System.out.println("用户名：" + user.getUserName());
#cold_bold		System.out.println("密码：" + user.getPassword());

		return "success";
	}

}
</pre></div></div>
      <p class="number">步骤四：修改表单，设置文本框属性</p>
      <p>在index.jsp中，修改表单里新增的2个文本框的name属性值。对于域模型注入的方式，文本框name属性值应该是具有“对象名.属性名”格式的表达式。其中对象名指的是Action中的实体类型属性名，属性名指的是实体类型中的属性名，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@ page language<span class="sh_symbol">=</span><span class="sh_string">"java"</span> import<span class="sh_symbol">=</span><span class="sh_string">"java.util.*"</span> pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span></li><li><span class="sh_predef_func">String</span> path <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getContextPath</span><span class="sh_symbol">();</span></li><li><span class="sh_predef_func">String</span> basePath <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getScheme</span><span class="sh_symbol">()+</span><span class="sh_string">"://"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerName</span><span class="sh_symbol">()+</span><span class="sh_string">":"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerPort</span><span class="sh_symbol">()+</span>path<span class="sh_symbol">+</span><span class="sh_string">"/"</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">%&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE HTML PUBLIC <span class="sh_string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>base href<span class="sh_symbol">=</span><span class="sh_string">"&lt;%=basePath%&gt;"</span><span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>My JSP <span class="sh_string">'index.jsp'</span> starting page<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"pragma"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"cache-control"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"expires"</span> content<span class="sh_symbol">=</span><span class="sh_string">"0"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"keywords"</span> content<span class="sh_symbol">=</span><span class="sh_string">"keyword1,keyword2,keyword3"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"description"</span> content<span class="sh_symbol">=</span><span class="sh_string">"This is my page"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>link rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> href<span class="sh_symbol">=</span><span class="sh_string">"styles.css"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>    This is my JSP page<span class="sh_symbol">.</span> <span class="sh_symbol">&lt;</span>br<span class="sh_symbol">&gt;&lt;</span>br<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">"/StrutsDay01/demo/hello.action"</span> method<span class="sh_symbol">=</span><span class="sh_string">"post"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>演示基本属性注入 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;姓名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"realName"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>演示域模型注入 <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;用户名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;密码：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"submit"</span> value<span class="sh_symbol">=</span><span class="sh_string">"提交"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@ page language="java" import="java.util.*" pageEncoding="utf-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;base href="&lt;%=basePath%&gt;"&gt;

&lt;title&gt;My JSP 'index.jsp' starting page&lt;/title&gt;
	&lt;meta http-equiv="pragma" content="no-cache"&gt;
	&lt;meta http-equiv="cache-control" content="no-cache"&gt;
	&lt;meta http-equiv="expires" content="0"&gt;
	&lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
	&lt;meta http-equiv="description" content="This is my page"&gt;
	&lt;!--
	&lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
	--&gt;
&lt;/head&gt;

&lt;body&gt;
    This is my JSP page. &lt;br&gt;&lt;br&gt;

&lt;form action="/StrutsDay01/demo/hello.action" method="post"&gt;
	&lt;!--演示基本属性注入 --&gt;
	姓名：&lt;input type="text" name="realName"/&gt;&lt;br/&gt;&lt;br/&gt;
#cold_bold	&lt;!--演示域模型注入 --&gt;
#cold_bold	用户名：&lt;input type="text" name="user.userName"/&gt;&lt;br/&gt;&lt;br/&gt;
#cold_bold	密码：&lt;input type="text" name="user.password"/&gt;&lt;br/&gt;&lt;br/&gt;
	
	&lt;input type="submit" value="提交"/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p class="number">步骤五：测试</p>
      <p>重新部署项目并启动tomcat，在浏览器中刷新地址http://localhost:8088/StrutsDay01，效果如下图所示：</p>
      <div class="image">
        <img src="./CASE_files/image014.png">
        <p>图-15</p>
      </div>
      <p>在文本框中输入任意的内容，点击提交，查看MyEclipse的控制台，输出结果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image015.png">
        <p>图-16</p>
      </div>
      <p>控制台输出的顺序可以证明代码的执行顺序为：实例化Action(实例化User并注入参数(调用set方法注入User对象(调用业务方法。</p>
      <p>最终浏览器显示的效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image016.png">
        <p>图-17</p>
      </div>
      <h3>3.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>index.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@ page language<span class="sh_symbol">=</span><span class="sh_string">"java"</span> import<span class="sh_symbol">=</span><span class="sh_string">"java.util.*"</span> pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span></li><li><span class="sh_predef_func">String</span> path <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getContextPath</span><span class="sh_symbol">();</span></li><li><span class="sh_predef_func">String</span> basePath <span class="sh_symbol">=</span> request<span class="sh_symbol">.</span><span class="sh_function">getScheme</span><span class="sh_symbol">()+</span><span class="sh_string">"://"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerName</span><span class="sh_symbol">()+</span><span class="sh_string">":"</span><span class="sh_symbol">+</span>request<span class="sh_symbol">.</span><span class="sh_function">getServerPort</span><span class="sh_symbol">()+</span>path<span class="sh_symbol">+</span><span class="sh_string">"/"</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">%&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE HTML PUBLIC <span class="sh_string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>base href<span class="sh_symbol">=</span><span class="sh_string">"&lt;%=basePath%&gt;"</span><span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>My JSP <span class="sh_string">'index.jsp'</span> starting page<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"pragma"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"cache-control"</span> content<span class="sh_symbol">=</span><span class="sh_string">"no-cache"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"expires"</span> content<span class="sh_symbol">=</span><span class="sh_string">"0"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"keywords"</span> content<span class="sh_symbol">=</span><span class="sh_string">"keyword1,keyword2,keyword3"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"description"</span> content<span class="sh_symbol">=</span><span class="sh_string">"This is my page"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>link rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> href<span class="sh_symbol">=</span><span class="sh_string">"styles.css"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>    This is my JSP page<span class="sh_symbol">.</span> <span class="sh_symbol">&lt;</span>br<span class="sh_symbol">&gt;&lt;</span>br<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">"/StrutsDay01/demo/hello.action"</span> method<span class="sh_symbol">=</span><span class="sh_string">"post"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> 演示基本属性注入 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;姓名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"realName"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> 演示域模型注入 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;用户名：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;密码：<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"text"</span> name<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_normal">br</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"submit"</span> value<span class="sh_symbol">=</span><span class="sh_string">"提交"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@ page language="java" import="java.util.*" pageEncoding="utf-8"%&gt;
&lt;%
String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%&gt;

&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;base href="&lt;%=basePath%&gt;"&gt;

&lt;title&gt;My JSP 'index.jsp' starting page&lt;/title&gt;
	&lt;meta http-equiv="pragma" content="no-cache"&gt;
	&lt;meta http-equiv="cache-control" content="no-cache"&gt;
	&lt;meta http-equiv="expires" content="0"&gt;
	&lt;meta http-equiv="keywords" content="keyword1,keyword2,keyword3"&gt;
	&lt;meta http-equiv="description" content="This is my page"&gt;
	&lt;!--
	&lt;link rel="stylesheet" type="text/css" href="styles.css"&gt;
	--&gt;
&lt;/head&gt;

&lt;body&gt;
    This is my JSP page. &lt;br&gt;&lt;br&gt;

&lt;form action="/StrutsDay01/demo/hello.action" method="post"&gt;
	&lt;!-- 演示基本属性注入 --&gt;
	姓名：&lt;input type="text" name="realName"/&gt;&lt;br/&gt;&lt;br/&gt;
	&lt;!-- 演示域模型注入 --&gt;
	用户名：&lt;input type="text" name="user.userName"/&gt;&lt;br/&gt;&lt;br/&gt;
	密码：&lt;input type="text" name="user.password"/&gt;&lt;br/&gt;&lt;br/&gt;
	
	&lt;input type="submit" value="提交"/&gt;
&lt;/form&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>HelloAction完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>opensymphony<span class="sh_symbol">.</span>xwork2<span class="sh_symbol">.</span>ModelDriven<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_function">HelloAction</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"实例化Action..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 定义基本类型属性，接收表单参数：姓名</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> realName<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setRealName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> realName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入参数realName..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName <span class="sh_symbol">=</span> realName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//定义实体对象属性，接收表单参数：用户名、密码</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入对象user..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出基本类型数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"姓名："</span> <span class="sh_symbol">+</span> realName<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出域模型方式注入的参数</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"用户名："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getUserName</span><span class="sh_symbol">());</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"密码："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getPassword</span><span class="sh_symbol">());</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import com.opensymphony.xwork2.ModelDriven;

import entity.User;

public class HelloAction {

	public HelloAction() {
		System.out.println("实例化Action...");
	}

	// 定义基本类型属性，接收表单参数：姓名
	private String realName;

	public void setRealName(String realName) {
		System.out.println("注入参数realName...");
		this.realName = realName;
	}
	
	//定义实体对象属性，接收表单参数：用户名、密码
	private User user;

	public void setUser(User user) {
		System.out.println("注入对象user...");
		this.user = user;
	}
	
	public User getUser() {
		return this.user;
	}

	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");

		// 输出基本类型数据
		System.out.println("姓名：" + realName);
		// 输出域模型方式注入的参数
		System.out.println("用户名：" + user.getUserName());
		System.out.println("密码：" + user.getPassword());

		return "success";
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>User完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package entity<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> User <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> userName<span class="sh_symbol">;</span><span class="sh_comment">// 用户名</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> password<span class="sh_symbol">;</span><span class="sh_comment">// 密码</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getPassword</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> password<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getUserName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> userName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> userName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>userName <span class="sh_symbol">=</span> userName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> password<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>password <span class="sh_symbol">=</span> password<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package entity;

public class User {

	private String userName;// 用户名
	private String password;// 密码

	public String getPassword() {
		return password;
	}

	public String getUserName() {
		return userName;
	}

	public void setUserName(String userName) {
		this.userName = userName;
	}

	public void setPassword(String password) {
		this.password = password;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>其他代码没有变化，不再重复。</p>
      <a name="case4">
      </a>
      <h2>4 使用EL表达式，显示Action中的数据</h2>
      <h3>4.1 问题</h3>
      <p>在Struts2框架下，如何将业务控制器Action的数据传递给JSP，并在JSP上显示出这些数据。</p>
      <h3>4.2 方案</h3>
      <p>Struts2会自动的将Action的数据传递给JSP，并且对传递方式进行了封装，在使用时变得十分方便，甚至不需要使用request对象。它仅仅要求我们在Action中定义属性，并为属性提供get方法，那么从Action跳转到JSP时Struts2会自动的通过这些get方法将这些属性的值传递给JSP。最终在JSP上我们可以使用EL表达式来显示Action的属性值。</p>
      <p>我们还是利用StrutsDay01项目的HelloWorld示例，目前HelloAction中已经有了2个属性，即realName、user，而该Action最终跳转的页面为hello.jsp，我们的目标是在页面 hello.jsp上使用EL表达式输出这些属性值。</p>
      <h3>4.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：在Action中，给属性追加get方法</p>
      <p>在HelloAction中，给realName属性追加get方法，用于页面的EL表达式访问并取值。user属性已经有了get方法，不再需要追加。代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>opensymphony<span class="sh_symbol">.</span>xwork2<span class="sh_symbol">.</span>ModelDriven<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_function">HelloAction</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"实例化Action..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 定义基本类型属性，接收表单参数：姓名</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> realName<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setRealName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> realName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入参数realName..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName <span class="sh_symbol">=</span> realName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getRealName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//定义实体对象属性，接收表单参数：用户名、密码</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入对象user..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出基本类型数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"姓名："</span> <span class="sh_symbol">+</span> realName<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出域模型方式注入的参数</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"用户名："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getUserName</span><span class="sh_symbol">());</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"密码："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getPassword</span><span class="sh_symbol">());</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import com.opensymphony.xwork2.ModelDriven;

import entity.User;

public class HelloAction {

	public HelloAction() {
		System.out.println("实例化Action...");
	}

	// 定义基本类型属性，接收表单参数：姓名
	private String realName;

	public void setRealName(String realName) {
		System.out.println("注入参数realName...");
		this.realName = realName;
	}
	
#cold_bold	public String getRealName() {
#cold_bold		return this.realName;
#cold_bold	}
	
	//定义实体对象属性，接收表单参数：用户名、密码
	private User user;

	public void setUser(User user) {
		System.out.println("注入对象user...");
		this.user = user;
	}
	
	public User getUser() {
		return this.user;
	}


	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");

		// 输出基本类型数据
		System.out.println("姓名：" + realName);
		// 输出域模型方式注入的参数
		System.out.println("用户名：" + user.getUserName());
		System.out.println("密码：" + user.getPassword());

		return "success";
	}

}
</pre></div></div>
      <p class="number">步骤二：在JSP上，使用EL表达式显示Action的属性值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> isELIgnored<span class="sh_symbol">=</span><span class="sh_string">"false"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>Hello<span class="sh_symbol">,</span>Struts2<span class="sh_symbol">.&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>姓名：$<span class="sh_cbracket">{</span>realName <span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>用户名：$<span class="sh_cbracket">{</span>user<span class="sh_symbol">.</span>userName <span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>密码：$<span class="sh_cbracket">{</span>user<span class="sh_symbol">.</span>password <span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" isELIgnored="false"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;Hello,Struts2.&lt;/h1&gt;
	
#cold_bold	&lt;h1&gt;姓名：${realName }&lt;/h1&gt;
#cold_bold	
#cold_bold	&lt;h1&gt;用户名：${user.userName }&lt;/h1&gt;
#cold_bold	&lt;h1&gt;密码：${user.password }&lt;/h1&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p class="emphasiz">注意：如果使用的是tomcat5，那么它默认会忽略EL表达式，需要在page指令中设置不忽略，即isElIgnored=”false”。如果使用的是tomcat6或者更高版本，可以不进行此项设置。</p>
      <p class="number">步骤三：测试</p>
      <p>重新部署项目并启动tomcat，在浏览器中刷新地址http://localhost:8088/StrutsDay01，效果如下图所示：</p>
      <div class="image">
        <img src="./CASE_files/image017.png">
        <p>图-18</p>
      </div>
      <p>在文本框中输入任意的内容，点击提交，此时表单数据提交给了HelloAction，HelloAction接收到了表单数据后，跳转到了hello.jsp，我们在hello.jsp上使用了EL表达式来输出HelloAction的属性值，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image018.png">
        <p>图-19</p>
      </div>
      <p class="emphasiz">小结</p>
      <p class="emphasiz">Action中追加属性时，不必区别何时加get方法，何时加set方法，通常每个属性都有get和set方法。</p>
      <p class="emphasiz">页面上写的EL表达式，实际上与二种注入方式中，对应的表单文本框的name表达式写法一致。</p>
      <h3>4.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>HelloAction完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>opensymphony<span class="sh_symbol">.</span>xwork2<span class="sh_symbol">.</span>ModelDriven<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_function">HelloAction</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"实例化Action..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 定义基本类型属性，接收表单参数：姓名</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> realName<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setRealName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> realName<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入参数realName..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName <span class="sh_symbol">=</span> realName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getRealName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>realName<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//定义实体对象属性，接收表单参数：用户名、密码</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"注入对象user..."</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 在业务方法中输出“Hello，Action.”</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Hello,Action."</span><span class="sh_symbol">);</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出基本类型数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"姓名："</span> <span class="sh_symbol">+</span> realName<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 输出域模型方式注入的参数</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"用户名："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getUserName</span><span class="sh_symbol">());</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"密码："</span> <span class="sh_symbol">+</span> user<span class="sh_symbol">.</span><span class="sh_function">getPassword</span><span class="sh_symbol">());</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//输出模型驱动方式注入的参数</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"员工名："</span> <span class="sh_symbol">+</span> emp<span class="sh_symbol">.</span><span class="sh_function">getEmpName</span><span class="sh_symbol">());</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"工资："</span> <span class="sh_symbol">+</span> emp<span class="sh_symbol">.</span><span class="sh_function">getSalary</span><span class="sh_symbol">());</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import com.opensymphony.xwork2.ModelDriven;

import entity.User;

public class HelloAction {

	public HelloAction() {
		System.out.println("实例化Action...");
	}

	// 定义基本类型属性，接收表单参数：姓名
	private String realName;

	public void setRealName(String realName) {
		System.out.println("注入参数realName...");
		this.realName = realName;
	}
	
	public String getRealName() {
		return this.realName;
	}
	
	//定义实体对象属性，接收表单参数：用户名、密码
	private User user;

	public void setUser(User user) {
		System.out.println("注入对象user...");
		this.user = user;
	}
	
	public User getUser() {
		return this.user;
	}
	

	/**
	 * 在业务方法中输出“Hello，Action.”
	 */
	public String sayHello() {
		System.out.println("Hello,Action.");

		// 输出基本类型数据
		System.out.println("姓名：" + realName);
		// 输出域模型方式注入的参数
		System.out.println("用户名：" + user.getUserName());
		System.out.println("密码：" + user.getPassword());
		//输出模型驱动方式注入的参数
		System.out.println("员工名：" + emp.getEmpName());
		System.out.println("工资：" + emp.getSalary());

		return "success";
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>hello.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>Hello<span class="sh_symbol">,</span>Struts2<span class="sh_symbol">.&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>姓名：$<span class="sh_cbracket">{</span>realName <span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>用户名：$<span class="sh_cbracket">{</span>user<span class="sh_symbol">.</span>userName <span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>密码：$<span class="sh_cbracket">{</span>user<span class="sh_symbol">.</span>password <span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;Hello,Struts2.&lt;/h1&gt;
	
	&lt;h1&gt;姓名：${realName }&lt;/h1&gt;
	
	&lt;h1&gt;用户名：${user.userName }&lt;/h1&gt;
	&lt;h1&gt;密码：${user.password }&lt;/h1&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>其他代码没有变化，不再重复。</p>
      <a name="case5">
      </a>
      <h2>5 NetCTOSS资费列表，Step1-3</h2>
      <h3>5.1 问题</h3>
      <p>开发NetCTOSS项目中，资费模块的查询功能。要求查询全部的资费表数据并以列表的方式显示在页面上，其中分页功能先不实现。具体效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image019.png">
        <p>图-20</p>
      </div>
      <h3>5.2 方案</h3>
      <p>查询功能只包含一个请求，即对资费数据的查询请求。在这次请求中，我们需要查询出资费所有的数据，然后将数据传递给查询列表页面，在页面上用表格显示出来。</p>
      <p>使用Struts2处理这种请求的过程如下图：</p>
      <div class="image">
        <img src="./CASE_files/image020.png">
        <p>图-21</p>
      </div>
      <p>在这个请求的过程中，我们需要编写的代码有:</p>
      <ul class="list">
        <li>Entity，封装资费表的实体类。
</li>
        <li>DAO，数据库访问代码的组件。
</li>
        <li>Action，业务流程控制组件。
</li>
        <li>struts.xml，Struts2的配置文件。
</li>
        <li>JSP，负责内容的展现。
</li>
      </ul>
      <p>这些代码的编写顺序，往往是按照他们的相互依赖关系来进行的，优先编写被依赖的代码，因此推荐代码编写的顺序是Entity(DAO(Action(struts.xml(JSP。由于步骤比较多，我们分2次来完成。本案例中我们先完成Entity、DAO代码的编写。</p>
      <p class="emphasiz">需要注意如下两点：</p>
      <p>1、struts.xml写在JSP前面的原因是，开发完该配置文件，可以部署并启动项目，而在开发JSP时可以一边写一边刷新看效果，不必再重新启动服务了。</p>
      <p>2、NetCTOSS项目我们采用ORACLE数据库开发。</p>
      <h3>5.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：项目搭建</p>
      <p>项目搭建包括项目的创建以及引入框架等操作，目前NetCTOSS项目仅采用了Struts2的框架，搭建过程只包含Struts2框架的引入即可，因此这一步可以参考今天的第一个案例，即“Struts2之HelloWorld，Step1-4”。</p>
      <p>项目名称定为NETCTOSS，后续我们会陆续完成项目的各个功能，代码都将写在这个项目下。项目搭建后结构如下图：</p>
      <div class="image">
        <img src="./CASE_files/image021.png">
        <p>图-22</p>
      </div>
      <p class="number">步骤二：Entity</p>
      <p>创建com.netctoss.entity包，用于封装实体类。然后创建资费表对应的实体类Cost，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>sql<span class="sh_symbol">.</span><span class="sh_predef_func">Date</span><span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> * 资费实体类</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> Cost <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id<span class="sh_symbol">;</span><span class="sh_comment">// 主键</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name<span class="sh_symbol">;</span><span class="sh_comment">// 资费名称</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer baseDuration<span class="sh_symbol">;</span><span class="sh_comment">// 在线时长</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Double baseCost<span class="sh_symbol">;</span><span class="sh_comment">// 基本费用</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Double unitCost<span class="sh_symbol">;</span><span class="sh_comment">// 单位费用</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> status<span class="sh_symbol">;</span><span class="sh_comment">// 状态</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> descr<span class="sh_symbol">;</span><span class="sh_comment">// 资费说明</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">Date</span> createTime<span class="sh_symbol">;</span><span class="sh_comment">// 创建日期</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">Date</span> startTime<span class="sh_symbol">;</span><span class="sh_comment">// 启用日期</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> costType<span class="sh_symbol">;</span><span class="sh_comment">// 资费类型</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getBaseDuration</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> baseDuration<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span>Integer baseDuration<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>baseDuration <span class="sh_symbol">=</span> baseDuration<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Double <span class="sh_function">getBaseCost</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> baseCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span>Double baseCost<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>baseCost <span class="sh_symbol">=</span> baseCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Double <span class="sh_function">getUnitCost</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> unitCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span>Double unitCost<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>unitCost <span class="sh_symbol">=</span> unitCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getStatus</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> status<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> status<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>status <span class="sh_symbol">=</span> status<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getDescr</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> descr<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> descr<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>descr <span class="sh_symbol">=</span> descr<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">Date</span> <span class="sh_function">getCreateTime</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> createTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">Date</span> <span class="sh_function">getStartTime</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> startTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setStartTime</span><span class="sh_symbol">(</span><span class="sh_predef_func">Date</span> startTime<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>startTime <span class="sh_symbol">=</span> startTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCreateTime</span><span class="sh_symbol">(</span><span class="sh_predef_func">Date</span> createTime<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>createTime <span class="sh_symbol">=</span> createTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getCostType</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> costType<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> costType<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>costType <span class="sh_symbol">=</span> costType<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.entity;

import java.sql.Date;

/**
 * 资费实体类
 */
public class Cost {

	private Integer id;// 主键
	private String name;// 资费名称
	private Integer baseDuration;// 在线时长
	private Double baseCost;// 基本费用
	private Double unitCost;// 单位费用
	private String status;// 状态
	private String descr;// 资费说明
	private Date createTime;// 创建日期
	private Date startTime;// 启用日期
	private String costType;// 资费类型

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public Integer getBaseDuration() {
		return baseDuration;
	}

	public void setBaseDuration(Integer baseDuration) {
		this.baseDuration = baseDuration;
	}

	public Double getBaseCost() {
		return baseCost;
	}

	public void setBaseCost(Double baseCost) {
		this.baseCost = baseCost;
	}

	public Double getUnitCost() {
		return unitCost;
	}

	public void setUnitCost(Double unitCost) {
		this.unitCost = unitCost;
	}

	public String getStatus() {
		return status;
	}

	public void setStatus(String status) {
		this.status = status;
	}

	public String getDescr() {
		return descr;
	}

	public void setDescr(String descr) {
		this.descr = descr;
	}

	public Date getCreateTime() {
		return createTime;
	}

	public Date getStartTime() {
		return startTime;
	}

	public void setStartTime(Date startTime) {
		this.startTime = startTime;
	}

	public void setCreateTime(Date createTime) {
		this.createTime = createTime;
	}

	public String getCostType() {
		return costType;
	}

	public void setCostType(String costType) {
		this.costType = costType;
	}

}
</pre></div></div>
      <p class="number">步骤三：DAO</p>
      <p>DAO是数据库访问组件，用于封装对数据库的增、删、改、查操作。当前请求中查询全部资费数据的方法，需要写在DAO中。</p>
      <p>首先，我们要创建DAO组件并编写本案例中需要使用的查询全部资费数据的代码。但是通常情况下，我们并不是直接写一个DAO的类，在类中直接编写这样的代码，而是先定义接口。</p>
      <p>定义接口的原因在于，一般情况下业务是比较固定的，针对这些业务我们需要提供的数据库访问方法也相对固定，而通过接口我们是可以描述出这些固定的业务。那么定义接口的目的在于，实际项目中，随着技术的革新和性能上的要求，我们可能会改变实现这种业务的手段，比如当前我们使用JDBC来实现DAO，可能过了一段时间，我们又想使用Hibernate替换JDBC来实现DAO。</p>
      <p>对于这种场景，如果DAO仅仅是一个类，直接实现业务，那么业务代码中会大量的调用它，我们很难再去进行修改了。而使用接口的话，我们业务代码中可以通过工厂（后面会说明如何使用工厂实例化接口）调用接口，修改时只需要重新写个实现类，来替换工厂中原有的实现类即可，对业务代码没有任何的影响。简单来说，定义接口是为了提高代码的复用性，降低代码维护的成本。</p>
      <p>因此我们需要创建一个DAO接口，并定义查询全部资费的方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">.</span>Cost<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> * 资费DAO接口</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">interface</span> ICostDao <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 查询全部资费数据</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span><span class="sh_function">findAll</span><span class="sh_symbol">();</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.dao;

import java.util.List;

import com.netctoss.entity.Cost;

/**
 * 资费DAO接口
 */
public interface ICostDao {

	/**
	 * 查询全部资费数据
	 */
	List&lt;Cost&gt;findAll();

}
</pre></div></div>
      <p>然后，要实现这个接口，目前我们可以使用JDBC/MyBatis来访问数据库，实现这个接口，由于本案例侧重点在Struts2的使用，因此就简化DAO的实现，这里简单的模拟一下这个查询方法的实现。即创建一个实现类CostDaoImpl实现接口ICostDao，并使用模拟的方式来实现查询方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">.</span>Cost<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> *&nbsp;&nbsp;&nbsp;&nbsp;当前阶段学习重点是Struts2，对于DAO的实现就模拟实现了。</span></li><li><span class="sh_comment"> *&nbsp;&nbsp;&nbsp;&nbsp;同学们可以使用JDBC/MyBatis自行实现该DAO。</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> CostDaoImpl <span class="sh_keyword">implements</span> ICostDao <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;@Override</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> <span class="sh_function">findAll</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 模拟查询全部资费数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> list <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost c1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Cost</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setId</span><span class="sh_symbol">(</span><span class="sh_number">95</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_string">"6元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span><span class="sh_number">66</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span><span class="sh_number">6.6</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span><span class="sh_number">0.6</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_string">"6元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_string">"0"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_string">"2"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>c1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost c2 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Cost</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setId</span><span class="sh_symbol">(</span><span class="sh_number">96</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_string">"8元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span><span class="sh_number">88</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span><span class="sh_number">8.8</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span><span class="sh_number">0.8</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_string">"8元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_string">"0"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_string">"2"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>c2<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost c3 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Cost</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setId</span><span class="sh_symbol">(</span><span class="sh_number">97</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_string">"tarena"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span><span class="sh_number">99</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span><span class="sh_number">9.9</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span><span class="sh_number">0.9</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_string">"tarena套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_string">"0"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_string">"2"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>c3<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> list<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.dao;

import java.util.ArrayList;
import java.util.List;

import com.netctoss.entity.Cost;

/**
 *	当前阶段学习重点是Struts2，对于DAO的实现就模拟实现了。
 *	同学们可以使用JDBC/MyBatis自行实现该DAO。
 */
public class CostDaoImpl implements ICostDao {

	@Override
	public List&lt;Cost&gt; findAll() {
		// 模拟查询全部资费数据
		List&lt;Cost&gt; list = new ArrayList&lt;Cost&gt;();
		
		Cost c1 = new Cost();
		c1.setId(95);
		c1.setName("6元套餐");
		c1.setBaseDuration(66);
		c1.setBaseCost(6.6);
		c1.setUnitCost(0.6);
		c1.setDescr("6元套餐");
		c1.setStatus("0");
		c1.setCostType("2");
		list.add(c1);
		
		Cost c2 = new Cost();
		c2.setId(96);
		c2.setName("8元套餐");
		c2.setBaseDuration(88);
		c2.setBaseCost(8.8);
		c2.setUnitCost(0.8);
		c2.setDescr("8元套餐");
		c2.setStatus("0");
		c2.setCostType("2");
		list.add(c2);
		
		Cost c3 = new Cost();
		c3.setId(97);
		c3.setName("tarena");
		c3.setBaseDuration(99);
		c3.setBaseCost(9.9);
		c3.setUnitCost(0.9);
		c3.setDescr("tarena套餐");
		c3.setStatus("0");
		c3.setCostType("2");
		list.add(c3);
		
		return list;
	}

</pre></div></div>
      <h3>5.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>Entity完整代码:</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>sql<span class="sh_symbol">.</span><span class="sh_predef_func">Date</span><span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> * 资费实体类</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> Cost <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id<span class="sh_symbol">;</span><span class="sh_comment">// 主键</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name<span class="sh_symbol">;</span><span class="sh_comment">// 资费名称</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer baseDuration<span class="sh_symbol">;</span><span class="sh_comment">// 在线时长</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Double baseCost<span class="sh_symbol">;</span><span class="sh_comment">// 基本费用</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Double unitCost<span class="sh_symbol">;</span><span class="sh_comment">// 单位费用</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> status<span class="sh_symbol">;</span><span class="sh_comment">// 状态</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> descr<span class="sh_symbol">;</span><span class="sh_comment">// 资费说明</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">Date</span> createTime<span class="sh_symbol">;</span><span class="sh_comment">// 创建日期</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">Date</span> startTime<span class="sh_symbol">;</span><span class="sh_comment">// 启用日期</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> costType<span class="sh_symbol">;</span><span class="sh_comment">// 资费类型</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getBaseDuration</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> baseDuration<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span>Integer baseDuration<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>baseDuration <span class="sh_symbol">=</span> baseDuration<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Double <span class="sh_function">getBaseCost</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> baseCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span>Double baseCost<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>baseCost <span class="sh_symbol">=</span> baseCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Double <span class="sh_function">getUnitCost</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> unitCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span>Double unitCost<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>unitCost <span class="sh_symbol">=</span> unitCost<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getStatus</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> status<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> status<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>status <span class="sh_symbol">=</span> status<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getDescr</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> descr<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> descr<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>descr <span class="sh_symbol">=</span> descr<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">Date</span> <span class="sh_function">getCreateTime</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> createTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">Date</span> <span class="sh_function">getStartTime</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> startTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setStartTime</span><span class="sh_symbol">(</span><span class="sh_predef_func">Date</span> startTime<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>startTime <span class="sh_symbol">=</span> startTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCreateTime</span><span class="sh_symbol">(</span><span class="sh_predef_func">Date</span> createTime<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>createTime <span class="sh_symbol">=</span> createTime<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getCostType</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> costType<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> costType<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>costType <span class="sh_symbol">=</span> costType<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.entity;

import java.sql.Date;

/**
 * 资费实体类
 */
public class Cost {

	private Integer id;// 主键
	private String name;// 资费名称
	private Integer baseDuration;// 在线时长
	private Double baseCost;// 基本费用
	private Double unitCost;// 单位费用
	private String status;// 状态
	private String descr;// 资费说明
	private Date createTime;// 创建日期
	private Date startTime;// 启用日期
	private String costType;// 资费类型

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public Integer getBaseDuration() {
		return baseDuration;
	}

	public void setBaseDuration(Integer baseDuration) {
		this.baseDuration = baseDuration;
	}

	public Double getBaseCost() {
		return baseCost;
	}

	public void setBaseCost(Double baseCost) {
		this.baseCost = baseCost;
	}

	public Double getUnitCost() {
		return unitCost;
	}

	public void setUnitCost(Double unitCost) {
		this.unitCost = unitCost;
	}

	public String getStatus() {
		return status;
	}

	public void setStatus(String status) {
		this.status = status;
	}

	public String getDescr() {
		return descr;
	}

	public void setDescr(String descr) {
		this.descr = descr;
	}

	public Date getCreateTime() {
		return createTime;
	}

	public Date getStartTime() {
		return startTime;
	}

	public void setStartTime(Date startTime) {
		this.startTime = startTime;
	}

	public void setCreateTime(Date createTime) {
		this.createTime = createTime;
	}

	public String getCostType() {
		return costType;
	}

	public void setCostType(String costType) {
		this.costType = costType;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>DAO接口完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">.</span>Cost<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> * 资费DAO接口</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">interface</span> ICostDao <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 查询全部资费数据</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span><span class="sh_function">findAll</span><span class="sh_symbol">();</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.dao;

import java.util.List;

import com.netctoss.entity.Cost;

/**
 * 资费DAO接口
 */
public interface ICostDao {

	/**
	 * 查询全部资费数据
	 */
	List&lt;Cost&gt;findAll();

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>DAO实现类完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">.</span>Cost<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> *&nbsp;&nbsp;&nbsp;&nbsp;当前阶段学习重点是Struts2，对于DAO的实现就模拟实现了。</span></li><li><span class="sh_comment"> *&nbsp;&nbsp;&nbsp;&nbsp;同学们可以使用JDBC/MyBatis自行实现该DAO。</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> CostDaoImpl <span class="sh_keyword">implements</span> ICostDao <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;@Override</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> <span class="sh_function">findAll</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 模拟查询全部资费数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> list <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost c1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Cost</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setId</span><span class="sh_symbol">(</span><span class="sh_number">95</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_string">"6元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span><span class="sh_number">66</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span><span class="sh_number">6.6</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span><span class="sh_number">0.6</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_string">"6元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_string">"0"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c1<span class="sh_symbol">.</span><span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_string">"2"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>c1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost c2 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Cost</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setId</span><span class="sh_symbol">(</span><span class="sh_number">96</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_string">"8元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span><span class="sh_number">88</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span><span class="sh_number">8.8</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span><span class="sh_number">0.8</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_string">"8元套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_string">"0"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c2<span class="sh_symbol">.</span><span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_string">"2"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>c2<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cost c3 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Cost</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setId</span><span class="sh_symbol">(</span><span class="sh_number">97</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_string">"tarena"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setBaseDuration</span><span class="sh_symbol">(</span><span class="sh_number">99</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setBaseCost</span><span class="sh_symbol">(</span><span class="sh_number">9.9</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setUnitCost</span><span class="sh_symbol">(</span><span class="sh_number">0.9</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setDescr</span><span class="sh_symbol">(</span><span class="sh_string">"tarena套餐"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setStatus</span><span class="sh_symbol">(</span><span class="sh_string">"0"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c3<span class="sh_symbol">.</span><span class="sh_function">setCostType</span><span class="sh_symbol">(</span><span class="sh_string">"2"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>c3<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> list<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.dao;

import java.util.ArrayList;
import java.util.List;

import com.netctoss.entity.Cost;

/**
 *	当前阶段学习重点是Struts2，对于DAO的实现就模拟实现了。
 *	同学们可以使用JDBC/MyBatis自行实现该DAO。
 */
public class CostDaoImpl implements ICostDao {

	@Override
	public List&lt;Cost&gt; findAll() {
		// 模拟查询全部资费数据
		List&lt;Cost&gt; list = new ArrayList&lt;Cost&gt;();
		
		Cost c1 = new Cost();
		c1.setId(95);
		c1.setName("6元套餐");
		c1.setBaseDuration(66);
		c1.setBaseCost(6.6);
		c1.setUnitCost(0.6);
		c1.setDescr("6元套餐");
		c1.setStatus("0");
		c1.setCostType("2");
		list.add(c1);
		
		Cost c2 = new Cost();
		c2.setId(96);
		c2.setName("8元套餐");
		c2.setBaseDuration(88);
		c2.setBaseCost(8.8);
		c2.setUnitCost(0.8);
		c2.setDescr("8元套餐");
		c2.setStatus("0");
		c2.setCostType("2");
		list.add(c2);
		
		Cost c3 = new Cost();
		c3.setId(97);
		c3.setName("tarena");
		c3.setBaseDuration(99);
		c3.setBaseCost(9.9);
		c3.setUnitCost(0.9);
		c3.setDescr("tarena套餐");
		c3.setStatus("0");
		c3.setCostType("2");
		list.add(c3);
		
		return list;
	}

</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case6">
      </a>
      <h2>6 NetCTOSS资费列表，Step4-6</h2>
      <h3>6.1 问题</h3>
      <p>继续第5个案例，NetCTOSS资费列表。</p>
      <h3>6.2 方案</h3>
      <p>本案例中，我们要完成Action、struts.xml、JSP代码的编写。</p>
      <h3>6.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：Action</p>
      <p>Action是业务控制器，需要调用DAO组织业务流程，并将计算出的结果传递给页面显示。其中对DAO的调用，不要直接在Action中实例化CostDaoImpl，避免业务代码中大量的引用该实现类，如将来更换实现DAO方式时不好修改。</p>
      <p>这种情况，我们通常情况是使用工厂类来创建DAO的实例，并返回其接口类型即可。那么Action中通过工厂获取到接口，其依赖的仅仅是这个接口，当DAO实现方式变更时，只需要修改工厂即可，项目中所有的Action类都不需要做任何的修改。</p>
      <p>因此，首先我们创建这个工厂类，使用工厂方法来创建DAO的实例，即在com.netctoss.dao的包下创建工厂类DAOFactory，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> * DAO工厂，负责统一的创建DAO实例。</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> DAOFactory <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 资费DAO实例</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_keyword">static</span> ICostDao costDao <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">CostDaoImpl</span><span class="sh_symbol">();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 返回资费DAO实例</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_keyword">static</span> ICostDao <span class="sh_function">getCostDAO</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returncostDao<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.dao;

/**
 * DAO工厂，负责统一的创建DAO实例。
 */
public class DAOFactory {

	/**
	 * 资费DAO实例
	 */
	private static ICostDao costDao = new CostDaoImpl();

	/**
	 * 返回资费DAO实例
	 */
	public static ICostDao getCostDAO() {
		returncostDao;
	}

}
</pre></div></div>
      <p>接下来，我们要创建业务控制器Action，并在其中处理查询请求。即创建包com.netctoss.action，用于封装所有的Action类，然后在此包下创建类FindCostAction，并在Action的业务方法中调用DAO查询出所有的资费，然后通过属性将结果传递给JSP。代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">.</span>DAOFactory<span class="sh_symbol">;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">.</span>ICostDao<span class="sh_symbol">;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">.</span>Cost<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> *&nbsp;&nbsp;&nbsp;&nbsp;资费查询Action</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> FindCostAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// output</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> costs<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 业务方法，配置action时如果不指定method属性，</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 那么Struts2会自动调用execute方法。</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">execute</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 获取DAO实例</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICostDao dao <span class="sh_symbol">=</span> DAOFactory<span class="sh_symbol">.</span><span class="sh_function">getCostDAO</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 调用DAO，计算输出</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">try</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;costs <span class="sh_symbol">=</span> dao<span class="sh_symbol">.</span><span class="sh_function">findAll</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span> <span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>Exception e<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="sh_symbol">.</span><span class="sh_function">printStackTrace</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 捕获到异常时，跳转到错误页面</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"error"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 正常执行时，跳转到资费列表页面</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> <span class="sh_function">getCosts</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> costs<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCosts</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> costs<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>costs <span class="sh_symbol">=</span> costs<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.action;

import java.util.List;
import com.netctoss.dao.DAOFactory;
import com.netctoss.dao.ICostDao;
import com.netctoss.entity.Cost;

/**
 *	资费查询Action
 */
public class FindCostAction {

	// output
	private List&lt;Cost&gt; costs;

	/**
	 * 业务方法，配置action时如果不指定method属性，
	 * 那么Struts2会自动调用execute方法。
	 */
	public String execute() {
		// 获取DAO实例
		ICostDao dao = DAOFactory.getCostDAO();
		// 调用DAO，计算输出
		try {
			costs = dao.findAll();
		} catch (Exception e) {
			e.printStackTrace();
			// 捕获到异常时，跳转到错误页面
			return "error";
		}
		// 正常执行时，跳转到资费列表页面
		return "success";
	}

	public List&lt;Cost&gt; getCosts() {
		return costs;
	}

	public void setCosts(List&lt;Cost&gt; costs) {
		this.costs = costs;
	}

}
</pre></div></div>
      <p class="emphasiz">注意：Action是业务控制器，它的作用是根据用户的输入来计算输出，并将结果返回给页面显示给用户看，简单说就是根据输入计算输出。因此在实现Action时，我们首先分析当前请求的输入和输出分别是什么，然后在Action中定义成员变量来封装输入和输出，之后在业务方法中根据输入属性计算输出属性的值即可。</p>
      <p class="number">步骤二：struts.xml</p>
      <p>在struts.xml下，配置action以及JSP。由于目前还没有创建JSP，因此我们先预想好JSP的名称加以配置，后面创建JSP时要使用配置中指定的名称，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span> <span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE struts PUBLIC</li><li>    <span class="sh_string">"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"</span></li><li>    <span class="sh_string">"http://struts.apache.org/dtds/struts-2.1.7.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>struts<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;资费模块配置信息：</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一般情况下，一个模块的配置单独封装在一个package下，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;并且以模块名来命名package的name和namespace。</li><li>&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>package name<span class="sh_symbol">=</span><span class="sh_string">"cost"</span> namespace<span class="sh_symbol">=</span><span class="sh_string">"/cost"</span> <span class="sh_keyword">extends</span><span class="sh_symbol">=</span><span class="sh_string">"struts-default"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>查询资费数据 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>action name<span class="sh_symbol">=</span><span class="sh_string">"findCost"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"com.netctoss.action.FindCostAction"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;正常情况下跳转到资费列表页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一般一个模块的页面要打包在一个文件夹下，并且文件夹以模块名命名。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>result name<span class="sh_symbol">=</span><span class="sh_string">"success"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_regexp">/WEB-INF/</span><span class="sh_normal">cost</span><span class="sh_symbol">/</span>find_cost<span class="sh_symbol">.</span>jsp</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>result<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;错误情况下，跳转到错误页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;错误页面可以被所有模块复用，因此放在main下，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件夹用于存放公用的页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>result name<span class="sh_symbol">=</span><span class="sh_string">"error"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_regexp">/WEB-INF/m</span><span class="sh_normal">ain</span><span class="sh_symbol">/</span>error<span class="sh_symbol">.</span>jsp</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>result<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>action<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>package<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>struts<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd"&gt;
&lt;struts&gt;
	
	&lt;!-- 
		资费模块配置信息：
		一般情况下，一个模块的配置单独封装在一个package下，
		并且以模块名来命名package的name和namespace。
	 --&gt;
	&lt;package name="cost" namespace="/cost" extends="struts-default"&gt;
		&lt;!--查询资费数据 --&gt;
		&lt;action name="findCost" class="com.netctoss.action.FindCostAction"&gt;
			&lt;!-- 
				正常情况下跳转到资费列表页面。
				一般一个模块的页面要打包在一个文件夹下，并且文件夹以模块名命名。
			 --&gt;
			&lt;result name="success"&gt;
				/WEB-INF/cost/find_cost.jsp
			&lt;/result&gt;
			&lt;!-- 
				错误情况下，跳转到错误页面。
				错误页面可以被所有模块复用，因此放在main下，
				该文件夹用于存放公用的页面。
			 --&gt;
			&lt;result name="error"&gt;
				/WEB-INF/main/error.jsp
			&lt;/result&gt;
		&lt;/action&gt;
	&lt;/package&gt;
	
&lt;/struts&gt;
</pre></div></div>
      <p class="number">步骤三：JSP</p>
      <p>资费列表页面需要依赖样式文件，因此首先将样式文件及图片复制到项目中来，即将静态项目NETCTOSS_V02中images和styles文件夹复制到NetCTOSS项目的WebRoot文件夹下，完成后WebRoot结构如下图：</p>
      <div class="image">
        <img src="./CASE_files/image022.png">
        <p>图-23</p>
      </div>
      <p>接下来，在WEB-INF下创建文件夹cost，并在该文件夹下创建find_cost.jsp。在该JSP中，我们先指定文件的编码为utf-8，然后从静态代码NETCTOSS_V02中，将资费列表的HTML代码（/fee/fee_list.html）复制到JSP内，完成后代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li>            <span class="sh_comment">//排序按钮的点击事件</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">sort</span><span class="sh_symbol">(</span>btnObj<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">==</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">)</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_asc"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">else</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//启用</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要启用此资费吗？资费启用后将不能修改和删除。"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li>            <span class="sh_comment">//删除</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">deleteFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要删除此资费吗？"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"header"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/logo.png"</span> alt<span class="sh_symbol">=</span><span class="sh_string">"logo"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"left"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;[</span>退出<span class="sh_symbol">]&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"navi"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>ul id<span class="sh_symbol">=</span><span class="sh_string">"menu"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../index.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"index_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../role/role_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"role_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../admin/admin_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"admin_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../fee/fee_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"fee_on"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../account/account_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"account_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../service/service_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"service_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../bill/bill_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"bill_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../report/report_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"report_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_info.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"information_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_modi_pwd.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"password_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>ul<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"main"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">""</span> method<span class="sh_symbol">=</span><span class="sh_string">""</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>排序<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"search_add"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"月租"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;--&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"基费"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"时长"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"增加"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_add"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='fee_add.html';"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>启用操作的操作提示<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"operate_result_info"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"operate_success"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/close.png"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"this.parentNode.style.display='none';"</span> <span class="sh_symbol">/&gt;</span></li><li>删除成功！</li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>数据区域：用表格展示数据<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"data"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>table id<span class="sh_symbol">=</span><span class="sh_string">"datalist"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>资费ID<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width100"</span><span class="sh_symbol">&gt;</span>资费名称<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本时长<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>单位费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>创建时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>开通时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width50"</span><span class="sh_symbol">&gt;</span>状态<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width200"</span><span class="sh_symbol">&gt;&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"fee_detail.html"</span><span class="sh_symbol">&gt;</span>包 <span class="sh_number">20</span> 小时<span class="sh_symbol">&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">20</span> 小时<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">24.50</span> 元<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">3.00</span> 元<span class="sh_regexp">/小时&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">2013</span><span class="sh_symbol">/</span><span class="sh_number">01</span><span class="sh_symbol">/</span><span class="sh_number">01</span> <span class="sh_number">00</span><span class="sh_symbol">:</span><span class="sh_number">00</span><span class="sh_symbol">:</span><span class="sh_number">00</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>暂停<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"启用"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_start"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"startFee();"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"修改"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_modify"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='fee_modi.html';"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"删除"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_delete"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"deleteFee();"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"fee_detail.html"</span><span class="sh_symbol">&gt;</span>包 <span class="sh_number">40</span> 小时<span class="sh_symbol">&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">40</span> 小时<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">40.50</span> 元<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">3.00</span> 元<span class="sh_regexp">/小时&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">2013</span><span class="sh_symbol">/</span><span class="sh_number">01</span><span class="sh_symbol">/</span><span class="sh_number">21</span> <span class="sh_number">00</span><span class="sh_symbol">:</span><span class="sh_number">00</span><span class="sh_symbol">:</span><span class="sh_number">00</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span><span class="sh_number">2013</span><span class="sh_symbol">/</span><span class="sh_number">01</span><span class="sh_symbol">/</span><span class="sh_number">23</span> <span class="sh_number">00</span><span class="sh_symbol">:</span><span class="sh_number">00</span><span class="sh_symbol">:</span><span class="sh_number">00</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>开通<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>table<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>业务说明：<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">1</span>、创建资费时，状态为暂停，记载创建时间；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">2</span>、暂停状态下，可修改，可删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">3</span>、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">4</span>、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）</li><li><span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>分页<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"pages"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>上一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"current_page"</span><span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>下一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"footer"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;[</span>源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目<span class="sh_symbol">]&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>版权所有<span class="sh_symbol">(</span>C<span class="sh_symbol">)</span>加拿大达内IT培训集团公司<span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
            //排序按钮的点击事件
function sort(btnObj) {
if (btnObj.className == "sort_desc")
                    btnObj.className = "sort_asc";
else
                    btnObj.className = "sort_desc";
            }

            //启用
function startFee() {
                var r = window.confirm("确定要启用此资费吗？资费启用后将不能修改和删除。");
document.getElementById("operate_result_info").style.display = "block";
            }
            //删除
function deleteFee() {
                var r = window.confirm("确定要删除此资费吗？");
document.getElementById("operate_result_info").style.display = "block";
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--Logo区域开始--&gt;
&lt;div id="header"&gt;
&lt;img src="../images/logo.png" alt="logo" class="left"/&gt;
&lt;a href="#"&gt;[退出]&lt;/a&gt;
&lt;/div&gt;
&lt;!--Logo区域结束--&gt;
&lt;!--导航区域开始--&gt;
&lt;div id="navi"&gt;
&lt;ul id="menu"&gt;
&lt;li&gt;&lt;a href="../index.html" class="index_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../role/role_list.html" class="role_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../admin/admin_list.html" class="admin_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../fee/fee_list.html" class="fee_on"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../account/account_list.html" class="account_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../service/service_list.html" class="service_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../bill/bill_list.html" class="bill_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../report/report_list.html" class="report_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_info.html" class="information_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_modi_pwd.html" class="password_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--导航区域结束--&gt;
&lt;!--主要区域开始--&gt;
&lt;div id="main"&gt;
&lt;form action="" method=""&gt;
&lt;!--排序--&gt;
&lt;div class="search_add"&gt;
&lt;div&gt;
&lt;!--&lt;input type="button" value="月租" class="sort_asc" onclick="sort(this);" /&gt;--&gt;
&lt;input type="button" value="基费" class="sort_asc" onclick="sort(this);" /&gt;
&lt;input type="button" value="时长" class="sort_asc" onclick="sort(this);" /&gt;
&lt;/div&gt;
&lt;input type="button" value="增加" class="btn_add" onclick="location.href='fee_add.html';" /&gt;
&lt;/div&gt;
&lt;!--启用操作的操作提示--&gt;
&lt;div id="operate_result_info" class="operate_success"&gt;
&lt;img src="../images/close.png" onclick="this.parentNode.style.display='none';" /&gt;
删除成功！
&lt;/div&gt;
&lt;!--数据区域：用表格展示数据--&gt;
&lt;div id="data"&gt;
&lt;table id="datalist"&gt;
&lt;tr&gt;
&lt;th&gt;资费ID&lt;/th&gt;
&lt;th class="width100"&gt;资费名称&lt;/th&gt;
&lt;th&gt;基本时长&lt;/th&gt;
&lt;th&gt;基本费用&lt;/th&gt;
&lt;th&gt;单位费用&lt;/th&gt;
&lt;th&gt;创建时间&lt;/th&gt;
&lt;th&gt;开通时间&lt;/th&gt;
&lt;th class="width50"&gt;状态&lt;/th&gt;
&lt;th class="width200"&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;&lt;a href="fee_detail.html"&gt;包 20 小时&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;20 小时&lt;/td&gt;
&lt;td&gt;24.50 元&lt;/td&gt;
&lt;td&gt;3.00 元/小时&lt;/td&gt;
&lt;td&gt;2013/01/01 00:00:00&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;暂停&lt;/td&gt;
&lt;td&gt;
&lt;input type="button" value="启用" class="btn_start" onclick="startFee();" /&gt;
&lt;input type="button" value="修改" class="btn_modify" onclick="location.href='fee_modi.html';" /&gt;
&lt;input type="button" value="删除" class="btn_delete" onclick="deleteFee();" /&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;&lt;a href="fee_detail.html"&gt;包 40 小时&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;40 小时&lt;/td&gt;
&lt;td&gt;40.50 元&lt;/td&gt;
&lt;td&gt;3.00 元/小时&lt;/td&gt;
&lt;td&gt;2013/01/21 00:00:00&lt;/td&gt;
&lt;td&gt;2013/01/23 00:00:00&lt;/td&gt;
&lt;td&gt;开通&lt;/td&gt;
&lt;td&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;业务说明：&lt;br /&gt;
                    1、创建资费时，状态为暂停，记载创建时间；&lt;br /&gt;
                    2、暂停状态下，可修改，可删除；&lt;br /&gt;
                    3、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；&lt;br /&gt;
                    4、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）
&lt;/p&gt;
&lt;/div&gt;
&lt;!--分页--&gt;
&lt;div id="pages"&gt;
	&lt;a href="#"&gt;上一页&lt;/a&gt;
&lt;a href="#" class="current_page"&gt;1&lt;/a&gt;
&lt;a href="#"&gt;2&lt;/a&gt;
&lt;a href="#"&gt;3&lt;/a&gt;
&lt;a href="#"&gt;4&lt;/a&gt;
&lt;a href="#"&gt;5&lt;/a&gt;
&lt;a href="#"&gt;下一页&lt;/a&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;!--主要区域结束--&gt;
&lt;div id="footer"&gt;
&lt;p&gt;[源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目]&lt;/p&gt;
&lt;p&gt;版权所有(C)加拿大达内IT培训集团公司&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>然后，在WEB-INF下创建文件夹main，并在该文件夹下创建公用的错误页面error.jsp。在该JSP中，我们先指定文件的编码为utf-8，然后从静态项目NETCTOSS_V02中，将错误页面的HTML代码（error.html）复制到JSP内，完成后代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_keyword">var</span> timer<span class="sh_symbol">;</span></li><li>            <span class="sh_comment">//启动跳转的定时器</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startTimes</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>timer <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">setInterval</span><span class="sh_symbol">(</span>showSecondes<span class="sh_symbol">,</span><span class="sh_number">1000</span><span class="sh_symbol">);</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">var</span> i <span class="sh_symbol">=</span> <span class="sh_number">5</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">showSecondes</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">&gt;</span> <span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>i<span class="sh_symbol">--;</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"secondes"</span><span class="sh_symbol">).</span>innerHTML <span class="sh_symbol">=</span> i<span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li><span class="sh_keyword">else</span> <span class="sh_cbracket">{</span></li><li>window<span class="sh_symbol">.</span><span class="sh_function">clearInterval</span><span class="sh_symbol">(</span>timer<span class="sh_symbol">);</span></li><li>                    location<span class="sh_symbol">.</span>href <span class="sh_symbol">=</span> <span class="sh_string">"login.html"</span><span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//取消跳转</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">resetTimer</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>timer <span class="sh_symbol">!=</span> <span class="sh_keyword">null</span> <span class="sh_symbol">&amp;&amp;</span> timer <span class="sh_symbol">!=</span> <span class="sh_predef_var">undefined</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>window<span class="sh_symbol">.</span><span class="sh_function">clearInterval</span><span class="sh_symbol">(</span>timer<span class="sh_symbol">);</span></li><li>                    location<span class="sh_symbol">.</span>href <span class="sh_symbol">=</span> <span class="sh_string">"login.html"</span><span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"error_page"</span> onload<span class="sh_symbol">=</span><span class="sh_string">"startTimes();"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>h1 id<span class="sh_symbol">=</span><span class="sh_string">"error"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;遇到错误，<span class="sh_symbol">&amp;</span>nbsp<span class="sh_symbol">;&lt;</span>span id<span class="sh_symbol">=</span><span class="sh_string">"secondes"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>span<span class="sh_symbol">&gt;&amp;</span>nbsp<span class="sh_symbol">;</span>秒后将自动跳转，立即跳转请点击<span class="sh_symbol">&amp;</span>nbsp<span class="sh_symbol">;</span></li><li><span class="sh_symbol">&lt;</span>a  href<span class="sh_symbol">=</span><span class="sh_string">"javascript:resetTimer();"</span><span class="sh_symbol">&gt;</span>返回<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
var timer;
            //启动跳转的定时器
function startTimes() {
timer = window.setInterval(showSecondes,1000);
            }

var i = 5;
function showSecondes() {
if (i &gt; 0) {
i--;
document.getElementById("secondes").innerHTML = i;
                }
else {
window.clearInterval(timer);
                    location.href = "login.html";
                }
            }

            //取消跳转
function resetTimer() {
if (timer != null &amp;&amp; timer != undefined) {
window.clearInterval(timer);
                    location.href = "login.html";
                }
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body class="error_page" onload="startTimes();"&gt;
&lt;h1 id="error"&gt;
	遇到错误，&amp;nbsp;&lt;span id="secondes"&gt;5&lt;/span&gt;&amp;nbsp;秒后将自动跳转，立即跳转请点击&amp;nbsp;
&lt;a  href="javascript:resetTimer();"&gt;返回&lt;/a&gt;
&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>完成这一步后，我们先做一下阶段性测试，以验证是否能通过FindCostAction访问到find_cost.jsp。即部署NetCTOSS项目，然后启动tomcat，在浏览器地址栏中输入http://localhost:8088/NETCTOSS/cost/findCost，点击回车，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image023.png">
        <p>图-24</p>
      </div>
      <p>最后，我们需要修改find_cost.jsp，将中间的表格区域静态的数据改为动态的数据显示，其数据来源于FindCostAction。</p>
      <p>对于页面上这份集合数据的动态显示，我们需要使用JSTL标签+EL表达式来实现，因此需要先引入JSTL的包，即jstl.jar、standard.jar。引入他们之后，项目中的lib包结构如下图：</p>
      <div class="image">
        <img src="./CASE_files/image024.png">
        <p>图-25</p>
      </div>
      <p>然后，我们要在find_cost.jsp中通过taglib指令引入JSTL标签，并设置不忽略EL表达式（tomcat6及以上版本不需要设置），相关代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> isELIgnored<span class="sh_symbol">=</span><span class="sh_string">"false"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/jsp/jstl/core"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"c"</span><span class="sh_symbol">%&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" isELIgnored="false"%&gt;
&lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
</pre></div></div>
      <p>最后，我们使用JSTL标签和EL表达式来动态显示页面表格中的数据，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li class="bold_code"><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> isELIgnored<span class="sh_symbol">=</span><span class="sh_string">"false"</span><span class="sh_symbol">%&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/jsp/jstl/core"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"c"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li>            <span class="sh_comment">//排序按钮的点击事件</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">sort</span><span class="sh_symbol">(</span>btnObj<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">==</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">)</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_asc"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">else</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//启用</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要启用此资费吗？资费启用后将不能修改和删除。"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li>            <span class="sh_comment">//删除</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">deleteFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要删除此资费吗？"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"header"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/logo.png"</span> alt<span class="sh_symbol">=</span><span class="sh_string">"logo"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"left"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;[</span>退出<span class="sh_symbol">]&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"navi"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>ul id<span class="sh_symbol">=</span><span class="sh_string">"menu"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../index.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"index_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../role/role_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"role_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../admin/admin_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"admin_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../fee/fee_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"fee_on"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../account/account_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"account_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../service/service_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"service_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../bill/bill_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"bill_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../report/report_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"report_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_info.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"information_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_modi_pwd.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"password_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>ul<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"main"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">""</span> method<span class="sh_symbol">=</span><span class="sh_string">""</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>排序<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"search_add"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"月租"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;--&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"基费"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"时长"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"增加"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_add"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='fee_add.html';"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>启用操作的操作提示<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"operate_result_info"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"operate_success"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/close.png"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"this.parentNode.style.display='none';"</span> <span class="sh_symbol">/&gt;</span></li><li>删除成功！</li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>数据区域：用表格展示数据<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"data"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>table id<span class="sh_symbol">=</span><span class="sh_string">"datalist"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>资费ID<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width100"</span><span class="sh_symbol">&gt;</span>资费名称<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本时长<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>单位费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>创建时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>开通时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width50"</span><span class="sh_symbol">&gt;</span>状态<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width200"</span><span class="sh_symbol">&gt;&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code"><span class="sh_symbol">&lt;!--</span>使用JSTL标签遍历集合，使用EL表达式输出内容。 <span class="sh_symbol">--&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>forEach items<span class="sh_symbol">=</span><span class="sh_string">"${costs}"</span> <span class="sh_keyword">var</span><span class="sh_symbol">=</span><span class="sh_string">"cost"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>id<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"fee_detail.html"</span><span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>name<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>baseDuration<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>baseCost<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>unitCost<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>createTime<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>startTime<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>choose<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>when test<span class="sh_symbol">=</span><span class="sh_string">"${cost.status==0}"</span><span class="sh_symbol">&gt;</span>开通<span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>when<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>otherwise<span class="sh_symbol">&gt;</span>暂停<span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>otherwise<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>choose<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"启用"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_start"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"startFee();"</span> <span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"修改"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_modify"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='fee_modi.html';"</span> <span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"删除"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_delete"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"deleteFee();"</span> <span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>forEach<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>table<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>业务说明：<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">1</span>、创建资费时，状态为暂停，记载创建时间；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">2</span>、暂停状态下，可修改，可删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">3</span>、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">4</span>、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）</li><li><span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>分页<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"pages"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>上一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"current_page"</span><span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>下一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"footer"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;[</span>源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目<span class="sh_symbol">]&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>版权所有<span class="sh_symbol">(</span>C<span class="sh_symbol">)</span>加拿大达内IT培训集团公司<span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">#cold_bold&lt;%@page pageEncoding="utf-8" isELIgnored="false"%&gt;
#cold_bold&lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
            //排序按钮的点击事件
function sort(btnObj) {
if (btnObj.className == "sort_desc")
                    btnObj.className = "sort_asc";
else
                    btnObj.className = "sort_desc";
            }

            //启用
function startFee() {
                var r = window.confirm("确定要启用此资费吗？资费启用后将不能修改和删除。");
document.getElementById("operate_result_info").style.display = "block";
            }
            //删除
function deleteFee() {
                var r = window.confirm("确定要删除此资费吗？");
document.getElementById("operate_result_info").style.display = "block";
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--Logo区域开始--&gt;
&lt;div id="header"&gt;
&lt;img src="../images/logo.png" alt="logo" class="left"/&gt;
&lt;a href="#"&gt;[退出]&lt;/a&gt;
&lt;/div&gt;
&lt;!--Logo区域结束--&gt;
&lt;!--导航区域开始--&gt;
&lt;div id="navi"&gt;
&lt;ul id="menu"&gt;
&lt;li&gt;&lt;a href="../index.html" class="index_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../role/role_list.html" class="role_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../admin/admin_list.html" class="admin_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../fee/fee_list.html" class="fee_on"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../account/account_list.html" class="account_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../service/service_list.html" class="service_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../bill/bill_list.html" class="bill_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../report/report_list.html" class="report_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_info.html" class="information_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_modi_pwd.html" class="password_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--导航区域结束--&gt;
&lt;!--主要区域开始--&gt;
&lt;div id="main"&gt;
&lt;form action="" method=""&gt;
&lt;!--排序--&gt;
&lt;div class="search_add"&gt;
&lt;div&gt;
&lt;!--&lt;input type="button" value="月租" class="sort_asc" onclick="sort(this);" /&gt;--&gt;
&lt;input type="button" value="基费" class="sort_asc" onclick="sort(this);" /&gt;
&lt;input type="button" value="时长" class="sort_asc" onclick="sort(this);" /&gt;
&lt;/div&gt;
&lt;input type="button" value="增加" class="btn_add" onclick="location.href='fee_add.html';" /&gt;
&lt;/div&gt;
&lt;!--启用操作的操作提示--&gt;
&lt;div id="operate_result_info" class="operate_success"&gt;
&lt;img src="../images/close.png" onclick="this.parentNode.style.display='none';" /&gt;
删除成功！
&lt;/div&gt;
&lt;!--数据区域：用表格展示数据--&gt;
&lt;div id="data"&gt;
&lt;table id="datalist"&gt;
&lt;tr&gt;
&lt;th&gt;资费ID&lt;/th&gt;
&lt;th class="width100"&gt;资费名称&lt;/th&gt;
&lt;th&gt;基本时长&lt;/th&gt;
&lt;th&gt;基本费用&lt;/th&gt;
&lt;th&gt;单位费用&lt;/th&gt;
&lt;th&gt;创建时间&lt;/th&gt;
&lt;th&gt;开通时间&lt;/th&gt;
&lt;th class="width50"&gt;状态&lt;/th&gt;
&lt;th class="width200"&gt;&lt;/th&gt;
&lt;/tr&gt;

#cold_bold&lt;!--使用JSTL标签遍历集合，使用EL表达式输出内容。 --&gt;
#cold_bold&lt;c:forEach items="${costs}" var="cost"&gt;
#cold_bold	&lt;tr&gt;
#cold_bold	&lt;td&gt;${cost.id}&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;a href="fee_detail.html"&gt;${cost.name}&lt;/a&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;${cost.baseDuration}&lt;/td&gt;
#cold_bold	&lt;td&gt;${cost.baseCost}&lt;/td&gt;
#cold_bold	&lt;td&gt;${cost.unitCost}&lt;/td&gt;
#cold_bold	&lt;td&gt;${cost.createTime}&lt;/td&gt;
#cold_bold	&lt;td&gt;${cost.startTime}&lt;/td&gt;
#cold_bold	&lt;td&gt;
#cold_bold		&lt;c:choose&gt;
#cold_bold			&lt;c:when test="${cost.status==0}"&gt;开通&lt;/c:when&gt;
#cold_bold			&lt;c:otherwise&gt;暂停&lt;/c:otherwise&gt;
#cold_bold		&lt;/c:choose&gt;
#cold_bold	&lt;/td&gt;
#cold_bold	&lt;td&gt;
#cold_bold	&lt;input type="button" value="启用" class="btn_start" onclick="startFee();" /&gt;
#cold_bold	&lt;input type="button" value="修改" class="btn_modify" onclick="location.href='fee_modi.html';" /&gt;
#cold_bold	&lt;input type="button" value="删除" class="btn_delete" onclick="deleteFee();" /&gt;
#cold_bold	&lt;/td&gt;
#cold_bold	&lt;/tr&gt;
#cold_bold&lt;/c:forEach&gt;

&lt;/table&gt;
&lt;p&gt;业务说明：&lt;br /&gt;
                    1、创建资费时，状态为暂停，记载创建时间；&lt;br /&gt;
                    2、暂停状态下，可修改，可删除；&lt;br /&gt;
                    3、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；&lt;br /&gt;
                    4、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）
&lt;/p&gt;
&lt;/div&gt;
&lt;!--分页--&gt;
&lt;div id="pages"&gt;
	&lt;a href="#"&gt;上一页&lt;/a&gt;
&lt;a href="#" class="current_page"&gt;1&lt;/a&gt;
&lt;a href="#"&gt;2&lt;/a&gt;
&lt;a href="#"&gt;3&lt;/a&gt;
&lt;a href="#"&gt;4&lt;/a&gt;
&lt;a href="#"&gt;5&lt;/a&gt;
&lt;a href="#"&gt;下一页&lt;/a&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;!--主要区域结束--&gt;
&lt;div id="footer"&gt;
&lt;p&gt;[源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目]&lt;/p&gt;
&lt;p&gt;版权所有(C)加拿大达内IT培训集团公司&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p class="number">步骤四：单元测试</p>
      <p>重新访问此功能，根据页面显示的数据测试代码是否正确。即在浏览器中刷新地址http://localhost:8088/NETCTOSS/cost/findCost，页面效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image025.png">
        <p>图-26</p>
      </div>
      <h3>6.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>DAOFactory完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> * DAO工厂，负责统一的创建DAO实例。</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> DAOFactory <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 资费DAO实例</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_keyword">static</span> ICostDao costDao <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">CostDaoImpl</span><span class="sh_symbol">();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 返回资费DAO实例</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_keyword">static</span> ICostDao <span class="sh_function">getCostDAO</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returncostDao<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.dao;

/**
 * DAO工厂，负责统一的创建DAO实例。
 */
public class DAOFactory {

	/**
	 * 资费DAO实例
	 */
	private static ICostDao costDao = new CostDaoImpl();

	/**
	 * 返回资费DAO实例
	 */
	public static ICostDao getCostDAO() {
		returncostDao;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>FindCostAction完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">.</span>DAOFactory<span class="sh_symbol">;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>dao<span class="sh_symbol">.</span>ICostDao<span class="sh_symbol">;</span></li><li>import com<span class="sh_symbol">.</span>netctoss<span class="sh_symbol">.</span>entity<span class="sh_symbol">.</span>Cost<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_comment">/**</span></li><li><span class="sh_comment"> *&nbsp;&nbsp;&nbsp;&nbsp;资费查询Action</span></li><li><span class="sh_comment"> */</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> FindCostAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// output</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> costs<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">/**</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 业务方法，配置action时如果不指定method属性，</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; * 那么Struts2会自动调用execute方法。</span></li><li><span class="sh_comment">&nbsp;&nbsp;&nbsp;&nbsp; */</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">execute</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 获取DAO实例</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ICostDao dao <span class="sh_symbol">=</span> DAOFactory<span class="sh_symbol">.</span><span class="sh_function">getCostDAO</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 调用DAO，计算输出</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">try</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;costs <span class="sh_symbol">=</span> dao<span class="sh_symbol">.</span><span class="sh_function">findAll</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span> <span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>Exception e<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e<span class="sh_symbol">.</span><span class="sh_function">printStackTrace</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 捕获到异常时，跳转到错误页面</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"error"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 正常执行时，跳转到资费列表页面</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> <span class="sh_function">getCosts</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> costs<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCosts</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span>Cost<span class="sh_symbol">&gt;</span> costs<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>costs <span class="sh_symbol">=</span> costs<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package com.netctoss.action;

import java.util.List;
import com.netctoss.dao.DAOFactory;
import com.netctoss.dao.ICostDao;
import com.netctoss.entity.Cost;

/**
 *	资费查询Action
 */
public class FindCostAction {

	// output
	private List&lt;Cost&gt; costs;

	/**
	 * 业务方法，配置action时如果不指定method属性，
	 * 那么Struts2会自动调用execute方法。
	 */
	public String execute() {
		// 获取DAO实例
		ICostDao dao = DAOFactory.getCostDAO();
		// 调用DAO，计算输出
		try {
			costs = dao.findAll();
		} catch (Exception e) {
			e.printStackTrace();
			// 捕获到异常时，跳转到错误页面
			return "error";
		}
		// 正常执行时，跳转到资费列表页面
		return "success";
	}

	public List&lt;Cost&gt; getCosts() {
		return costs;
	}

	public void setCosts(List&lt;Cost&gt; costs) {
		this.costs = costs;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>struts.xml完整代码:</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;?</span>xml version<span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> encoding<span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span> <span class="sh_symbol">?&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE struts PUBLIC</li><li>    <span class="sh_string">"-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"</span></li><li>    <span class="sh_string">"http://struts.apache.org/dtds/struts-2.1.7.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>struts<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;资费模块配置信息：</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一般情况下，一个模块的配置单独封装在一个package下，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;并且以模块名来命名package的name和namespace。</li><li>&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>package name<span class="sh_symbol">=</span><span class="sh_string">"cost"</span> namespace<span class="sh_symbol">=</span><span class="sh_string">"/cost"</span> <span class="sh_keyword">extends</span><span class="sh_symbol">=</span><span class="sh_string">"struts-default"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> 查询资费数据 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>action name<span class="sh_symbol">=</span><span class="sh_string">"findCost"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"com.netctoss.action.FindCostAction"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;正常情况下跳转到资费列表页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;一般一个模块的页面要打包在一个文件夹下，并且文件夹以模块名命名。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>result name<span class="sh_symbol">=</span><span class="sh_string">"success"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_regexp">/WEB-INF/</span><span class="sh_normal">cost</span><span class="sh_symbol">/</span>find_cost<span class="sh_symbol">.</span>jsp</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>result<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;错误情况下，跳转到错误页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;错误页面可以被所有模块复用，因此放在main下，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;该文件夹用于存放公用的页面。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>result name<span class="sh_symbol">=</span><span class="sh_string">"error"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_regexp">/WEB-INF/m</span><span class="sh_normal">ain</span><span class="sh_symbol">/</span>error<span class="sh_symbol">.</span>jsp</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>result<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>action<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>package<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>struts<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd"&gt;
&lt;struts&gt;
	
	&lt;!-- 
		资费模块配置信息：
		一般情况下，一个模块的配置单独封装在一个package下，
		并且以模块名来命名package的name和namespace。
	 --&gt;
	&lt;package name="cost" namespace="/cost" extends="struts-default"&gt;
		&lt;!-- 查询资费数据 --&gt;
		&lt;action name="findCost" class="com.netctoss.action.FindCostAction"&gt;
			&lt;!-- 
				正常情况下跳转到资费列表页面。
				一般一个模块的页面要打包在一个文件夹下，并且文件夹以模块名命名。
			 --&gt;
			&lt;result name="success"&gt;
				/WEB-INF/cost/find_cost.jsp
			&lt;/result&gt;
			&lt;!-- 
				错误情况下，跳转到错误页面。
				错误页面可以被所有模块复用，因此放在main下，
				该文件夹用于存放公用的页面。
			 --&gt;
			&lt;result name="error"&gt;
				/WEB-INF/main/error.jsp
			&lt;/result&gt;
		&lt;/action&gt;
	&lt;/package&gt;
	
&lt;/struts&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>find_cost.jsp完整代码:</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> isELIgnored<span class="sh_symbol">=</span><span class="sh_string">"false"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"http://java.sun.com/jsp/jstl/core"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"c"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li>            <span class="sh_comment">//排序按钮的点击事件</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">sort</span><span class="sh_symbol">(</span>btnObj<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">==</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">)</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_asc"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">else</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//启用</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要启用此资费吗？资费启用后将不能修改和删除。"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li>            <span class="sh_comment">//删除</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">deleteFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要删除此资费吗？"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"header"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/logo.png"</span> alt<span class="sh_symbol">=</span><span class="sh_string">"logo"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"left"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;[</span>退出<span class="sh_symbol">]&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"navi"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>ul id<span class="sh_symbol">=</span><span class="sh_string">"menu"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../index.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"index_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../role/role_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"role_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../admin/admin_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"admin_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../fee/fee_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"fee_on"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../account/account_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"account_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../service/service_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"service_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../bill/bill_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"bill_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../report/report_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"report_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_info.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"information_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_modi_pwd.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"password_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>ul<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"main"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">""</span> method<span class="sh_symbol">=</span><span class="sh_string">""</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>排序<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"search_add"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"月租"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;--&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"基费"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"时长"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"增加"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_add"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='fee_add.html';"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>启用操作的操作提示<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"operate_result_info"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"operate_success"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/close.png"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"this.parentNode.style.display='none';"</span> <span class="sh_symbol">/&gt;</span></li><li>                    删除成功！</li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>数据区域：用表格展示数据<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"data"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>table id<span class="sh_symbol">=</span><span class="sh_string">"datalist"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>资费ID<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width100"</span><span class="sh_symbol">&gt;</span>资费名称<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本时长<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>单位费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>创建时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>开通时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width50"</span><span class="sh_symbol">&gt;</span>状态<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width200"</span><span class="sh_symbol">&gt;&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;!--</span> 使用JSTL标签遍历集合，使用EL表达式输出内容。 <span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>forEach items<span class="sh_symbol">=</span><span class="sh_string">"${costs}"</span> <span class="sh_keyword">var</span><span class="sh_symbol">=</span><span class="sh_string">"cost"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>id<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"fee_detail.html"</span><span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>name<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>baseDuration<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>baseCost<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>unitCost<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>createTime<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span>$<span class="sh_cbracket">{</span>cost<span class="sh_symbol">.</span>startTime<span class="sh_cbracket">}</span><span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>choose<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>when test<span class="sh_symbol">=</span><span class="sh_string">"${cost.status==0}"</span><span class="sh_symbol">&gt;</span>开通<span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>when<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>c<span class="sh_symbol">:</span>otherwise<span class="sh_symbol">&gt;</span>暂停<span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>otherwise<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>choose<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"启用"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_start"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"startFee();"</span> <span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"修改"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_modify"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='fee_modi.html';"</span> <span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"删除"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_delete"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"deleteFee();"</span> <span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>c<span class="sh_symbol">:</span>forEach<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>table<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>业务说明：<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">1</span>、创建资费时，状态为暂停，记载创建时间；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">2</span>、暂停状态下，可修改，可删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">3</span>、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">4</span>、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）</li><li><span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>分页<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"pages"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>上一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"current_page"</span><span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>下一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"footer"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;[</span>源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目<span class="sh_symbol">]&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>版权所有<span class="sh_symbol">(</span>C<span class="sh_symbol">)</span>加拿大达内IT培训集团公司 <span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" isELIgnored="false"%&gt;
&lt;%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
            //排序按钮的点击事件
function sort(btnObj) {
if (btnObj.className == "sort_desc")
                    btnObj.className = "sort_asc";
else
                    btnObj.className = "sort_desc";
            }

            //启用
function startFee() {
                var r = window.confirm("确定要启用此资费吗？资费启用后将不能修改和删除。");
document.getElementById("operate_result_info").style.display = "block";
            }
            //删除
function deleteFee() {
                var r = window.confirm("确定要删除此资费吗？");
document.getElementById("operate_result_info").style.display = "block";
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--Logo区域开始--&gt;
&lt;div id="header"&gt;
&lt;img src="../images/logo.png" alt="logo" class="left"/&gt;
&lt;a href="#"&gt;[退出]&lt;/a&gt;
&lt;/div&gt;
&lt;!--Logo区域结束--&gt;
&lt;!--导航区域开始--&gt;
&lt;div id="navi"&gt;
&lt;ul id="menu"&gt;
&lt;li&gt;&lt;a href="../index.html" class="index_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../role/role_list.html" class="role_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../admin/admin_list.html" class="admin_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../fee/fee_list.html" class="fee_on"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../account/account_list.html" class="account_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../service/service_list.html" class="service_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../bill/bill_list.html" class="bill_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../report/report_list.html" class="report_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_info.html" class="information_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_modi_pwd.html" class="password_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--导航区域结束--&gt;
&lt;!--主要区域开始--&gt;
&lt;div id="main"&gt;
&lt;form action="" method=""&gt;
&lt;!--排序--&gt;
&lt;div class="search_add"&gt;
&lt;div&gt;
&lt;!--&lt;input type="button" value="月租" class="sort_asc" onclick="sort(this);" /&gt;--&gt;
&lt;input type="button" value="基费" class="sort_asc" onclick="sort(this);" /&gt;
&lt;input type="button" value="时长" class="sort_asc" onclick="sort(this);" /&gt;
&lt;/div&gt;
&lt;input type="button" value="增加" class="btn_add" onclick="location.href='fee_add.html';" /&gt;
&lt;/div&gt;
&lt;!--启用操作的操作提示--&gt;
&lt;div id="operate_result_info" class="operate_success"&gt;
&lt;img src="../images/close.png" onclick="this.parentNode.style.display='none';" /&gt;
                    删除成功！
&lt;/div&gt;
&lt;!--数据区域：用表格展示数据--&gt;
&lt;div id="data"&gt;
&lt;table id="datalist"&gt;
&lt;tr&gt;
&lt;th&gt;资费ID&lt;/th&gt;
&lt;th class="width100"&gt;资费名称&lt;/th&gt;
&lt;th&gt;基本时长&lt;/th&gt;
&lt;th&gt;基本费用&lt;/th&gt;
&lt;th&gt;单位费用&lt;/th&gt;
&lt;th&gt;创建时间&lt;/th&gt;
&lt;th&gt;开通时间&lt;/th&gt;
&lt;th class="width50"&gt;状态&lt;/th&gt;
&lt;th class="width200"&gt;&lt;/th&gt;
&lt;/tr&gt;

&lt;!-- 使用JSTL标签遍历集合，使用EL表达式输出内容。 --&gt;
&lt;c:forEach items="${costs}" var="cost"&gt;
	&lt;tr&gt;
	&lt;td&gt;${cost.id}&lt;/td&gt;
	&lt;td&gt;&lt;a href="fee_detail.html"&gt;${cost.name}&lt;/a&gt;&lt;/td&gt;
	&lt;td&gt;${cost.baseDuration}&lt;/td&gt;
	&lt;td&gt;${cost.baseCost}&lt;/td&gt;
	&lt;td&gt;${cost.unitCost}&lt;/td&gt;
	&lt;td&gt;${cost.createTime}&lt;/td&gt;
	&lt;td&gt;${cost.startTime}&lt;/td&gt;
	&lt;td&gt;
		&lt;c:choose&gt;
			&lt;c:when test="${cost.status==0}"&gt;开通&lt;/c:when&gt;
			&lt;c:otherwise&gt;暂停&lt;/c:otherwise&gt;
		&lt;/c:choose&gt;
	&lt;/td&gt;
	&lt;td&gt;
	&lt;input type="button" value="启用" class="btn_start" onclick="startFee();" /&gt;
	&lt;input type="button" value="修改" class="btn_modify" onclick="location.href='fee_modi.html';" /&gt;
	&lt;input type="button" value="删除" class="btn_delete" onclick="deleteFee();" /&gt;
	&lt;/td&gt;
	&lt;/tr&gt;
&lt;/c:forEach&gt;

&lt;/table&gt;
&lt;p&gt;业务说明：&lt;br /&gt;
                    1、创建资费时，状态为暂停，记载创建时间；&lt;br /&gt;
                    2、暂停状态下，可修改，可删除；&lt;br /&gt;
                    3、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；&lt;br /&gt;
                    4、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）
&lt;/p&gt;
&lt;/div&gt;
&lt;!--分页--&gt;
&lt;div id="pages"&gt;
	&lt;a href="#"&gt;上一页&lt;/a&gt;
&lt;a href="#" class="current_page"&gt;1&lt;/a&gt;
&lt;a href="#"&gt;2&lt;/a&gt;
&lt;a href="#"&gt;3&lt;/a&gt;
&lt;a href="#"&gt;4&lt;/a&gt;
&lt;a href="#"&gt;5&lt;/a&gt;
&lt;a href="#"&gt;下一页&lt;/a&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;!--主要区域结束--&gt;
&lt;div id="footer"&gt;
&lt;p&gt;[源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目]&lt;/p&gt;
&lt;p&gt;版权所有(C)加拿大达内IT培训集团公司 &lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>error.jsp完整代码:</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_keyword">var</span> timer<span class="sh_symbol">;</span></li><li>            <span class="sh_comment">//启动跳转的定时器</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startTimes</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>timer <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">setInterval</span><span class="sh_symbol">(</span>showSecondes<span class="sh_symbol">,</span><span class="sh_number">1000</span><span class="sh_symbol">);</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">var</span> i <span class="sh_symbol">=</span> <span class="sh_number">5</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">showSecondes</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">&gt;</span> <span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>i<span class="sh_symbol">--;</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"secondes"</span><span class="sh_symbol">).</span>innerHTML <span class="sh_symbol">=</span> i<span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li><span class="sh_keyword">else</span> <span class="sh_cbracket">{</span></li><li>window<span class="sh_symbol">.</span><span class="sh_function">clearInterval</span><span class="sh_symbol">(</span>timer<span class="sh_symbol">);</span></li><li>                    location<span class="sh_symbol">.</span>href <span class="sh_symbol">=</span> <span class="sh_string">"login.html"</span><span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//取消跳转</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">resetTimer</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>timer <span class="sh_symbol">!=</span> <span class="sh_keyword">null</span> <span class="sh_symbol">&amp;&amp;</span> timer <span class="sh_symbol">!=</span> <span class="sh_predef_var">undefined</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>window<span class="sh_symbol">.</span><span class="sh_function">clearInterval</span><span class="sh_symbol">(</span>timer<span class="sh_symbol">);</span></li><li>                    location<span class="sh_symbol">.</span>href <span class="sh_symbol">=</span> <span class="sh_string">"login.html"</span><span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"error_page"</span> onload<span class="sh_symbol">=</span><span class="sh_string">"startTimes();"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>h1 id<span class="sh_symbol">=</span><span class="sh_string">"error"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;        遇到错误，<span class="sh_symbol">&amp;</span>nbsp<span class="sh_symbol">;&lt;</span>span id<span class="sh_symbol">=</span><span class="sh_string">"secondes"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>span<span class="sh_symbol">&gt;&amp;</span>nbsp<span class="sh_symbol">;</span>秒后将自动跳转，立即跳转请点击<span class="sh_symbol">&amp;</span>nbsp<span class="sh_symbol">;</span></li><li><span class="sh_symbol">&lt;</span>a  href<span class="sh_symbol">=</span><span class="sh_string">"javascript:resetTimer();"</span><span class="sh_symbol">&gt;</span>返回<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
var timer;
            //启动跳转的定时器
function startTimes() {
timer = window.setInterval(showSecondes,1000);
            }

var i = 5;
function showSecondes() {
if (i &gt; 0) {
i--;
document.getElementById("secondes").innerHTML = i;
                }
else {
window.clearInterval(timer);
                    location.href = "login.html";
                }
            }

            //取消跳转
function resetTimer() {
if (timer != null &amp;&amp; timer != undefined) {
window.clearInterval(timer);
                    location.href = "login.html";
                }
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body class="error_page" onload="startTimes();"&gt;
&lt;h1 id="error"&gt;
	        遇到错误，&amp;nbsp;&lt;span id="secondes"&gt;5&lt;/span&gt;&amp;nbsp;秒后将自动跳转，立即跳转请点击&amp;nbsp;
&lt;a  href="javascript:resetTimer();"&gt;返回&lt;/a&gt;
&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY01/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
    </div>
  
<div style="position: static; width: 0px; height: 0px; border: none; padding: 0px; margin: 0px;"><div id="trans-tooltip"><div id="tip-left-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-left-top.png&quot;);"></div><div id="tip-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-top.png&quot;) repeat-x;"></div><div id="tip-right-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-right-top.png&quot;);"></div><div id="tip-right" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-right.png&quot;) repeat-y;"></div><div id="tip-right-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-right-bottom.png&quot;);"></div><div id="tip-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-bottom.png&quot;) repeat-x;"></div><div id="tip-left-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-left-bottom.png&quot;);"></div><div id="tip-left" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-left.png&quot;);"></div><div id="trans-content"></div></div><div id="tip-arrow-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-arrow-bottom.png&quot;);"></div><div id="tip-arrow-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-arrow-top.png&quot;);"></div></div></body></html>