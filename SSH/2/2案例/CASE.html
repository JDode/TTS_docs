
<!-- saved from url=(0091)http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CASE</title>
    
    <script type="text/javascript" src="./CASE_files/jquery.min.js">
    </script>
    <script type="text/javascript" src="./CASE_files/jquery.snippet.js">
    </script>
    <script type="text/javascript" src="./CASE_files/main.js">
    </script>
    <link type="text/css" href="./CASE_files/index.css" rel="Stylesheet">
    <link type="text/css" href="./CASE_files/jquery.snippet.css" rel="Stylesheet">
  </head><style type="text/css" id="37892685146"></style>
  <body>
    <div class="source_style_case">
      <a name="page_top_case" id="top_anchor">
      </a><a id="link_top" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#page_top_case">Top</a>
      <h1>JAVA Struts2 DAY02</h1>
      <ol class="index">
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#case1">使用OGNL表达式-1</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#case2">使用OGNL表达式-2</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#case3">访问ValueStack-1</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#case4">访问ValueStack-2</a>
        </li>
        <li>
          <a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#case5">重构资费列表</a>
        </li>
      </ol>
      <a name="case1">
      </a>
      <h2>1 使用OGNL表达式-1</h2>
      <h3>1.1 问题</h3>
      <p>练习OGNL表达式的8种用法，即</p>
      <ol class="list">
        <li>访问基本属性
</li>
        <li>访问实体对象
</li>
        <li>访问集合/数组
</li>
        <li>访问Map
</li>
        <li>访问时运算
</li>
        <li>访问时调用方法
</li>
        <li>创建集合
</li>
        <li>创建Map
</li>
      </ol>
      <p>本案例中，先练习前2种用法，他们是最常用的。</p>
      <h3>1.2 方案</h3>
      <p>在一次请求当中，我们可以在页面上使用OGNL访问Action中的基本属性和实体对象属性，这里重点是关注OGNL的写法，因此案例中Action和JSP可以简化处理。</p>
      <p>我们可以复用StrutsDay01中的HelloWorld示例，在该示例的Action中追加基本属性和实体对象，在JSP中用OGNL进行访问。</p>
      <h3>1.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：准备项目</p>
      <p>选中项目StrutsDay01，右键复制，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image001.png">
        <p>图-1</p>
      </div>
      <p>粘贴项目StrutsDay01，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image002.png">
        <p>图-2</p>
      </div>
      <p>在弹出框中，将项目名改为StrutsDay02，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image003.png">
        <p>图-3</p>
      </div>
      <p>选中StrutsDay02，右键选择Properties，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image004.png">
        <p>图-4</p>
      </div>
      <p>在弹出框中，将此项目的web访问地址由StrutsDay01改为StrutsDay02，如下图：</p>
      <div class="image">
        <img src="./CASE_files/image005.png">
        <p>图-5</p>
      </div>
      <p>修改HelloAction，删除其他演示代码，只保留业务方法即可，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

public class HelloAction {
	
	public String sayHello() {
		return "success";
	}

}
</pre></div></div>
      <p>修改hello.jsp，删除其他演示代码，只保留基本的HTML结构即可，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8"%&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>此时，项目StrutsDay02的结构如下图：</p>
      <div class="image">
        <img src="./CASE_files/image006.png">
        <p>图-6</p>
      </div>
      <p>部署项目，启动tomcat并访问http://localhost:8088/StrutsDay02/demo/hello，效果如下图则项目准备完毕：</p>
      <div class="image">
        <img src="./CASE_files/image007.png">
        <p>图-7</p>
      </div>
      <p class="number">步骤二：使用OGNL访问Action基本属性</p>
      <p>在HelloAction中追加任意基本属性并初始化，同时提供get、set方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

public class HelloAction {

#cold_bold	// 基本类型
#cold_bold	private Integer id = 1;
#cold_bold	private String name = "zhangsan";

	public String sayHello() {
		return "success";
	}

#cold_bold	public Integer getId() {
#cold_bold		return id;
#cold_bold	}
#cold_bold
#cold_bold	public void setId(Integer id) {
#cold_bold		this.id = id;
#cold_bold	}
#cold_bold
#cold_bold	public String getName() {
#cold_bold		return name;
#cold_bold	}
#cold_bold
#cold_bold	public void setName(String name) {
#cold_bold		this.name = name;
#cold_bold	}

}
</pre></div></div>
      <p>在hello.jsp中，先通过taglib指令引入Struts2标签，然后在Struts2的显示标签上，使用OGNL表达式输出HelloAction中的基本属性值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>基本属性<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>ID<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
#cold_bold	&lt;h1&gt;1.基本属性&lt;/h1&gt;
#cold_bold	&lt;h2&gt;ID:&lt;s:property value="id"/&gt;&lt;/h2&gt;
#cold_bold	&lt;h2&gt;Name:&lt;s:property value="name"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image008.png">
        <p>图-8</p>
      </div>
      <p class="number">步骤三：使用OGNL访问Action实体对象属性</p>
      <p>在HelloAction中追加实体属性并初始化，在业务方法中初始化实体对象的数据，同时提供get、set方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
#cold_bold	// 实体对象
#cold_bold	private User user = new User();

	public String sayHello() {
#cold_bold		// 初始化实体对象数据
#cold_bold		user.setUserName("zhangsan");
#cold_bold		user.setPassword("123456");
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

#cold_bold	public User getUser() {
#cold_bold		return user;
#cold_bold	}
#cold_bold
#cold_bold	public void setUser(User user) {
#cold_bold		this.user = user;
#cold_bold	}

}
</pre></div></div>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式输出HelloAction中的实体对象值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>基本属性<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>ID<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>实体对象<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>用户名<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>密码<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;h1&gt;1.基本属性&lt;/h1&gt;
	&lt;h2&gt;ID:&lt;s:property value="id"/&gt;&lt;/h2&gt;
	&lt;h2&gt;Name:&lt;s:property value="name"/&gt;&lt;/h2&gt;
	
#cold_bold	&lt;h1&gt;2.实体对象&lt;/h1&gt;
#cold_bold	&lt;h2&gt;用户名:&lt;s:property value="user.userName"/&gt;&lt;/h2&gt;
#cold_bold	&lt;h2&gt;密码:&lt;s:property value="user.password"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image009.png">
        <p>图-9</p>
      </div>
      <h3>1.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>HelloAction完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
	// 实体对象
	private User user = new User();

	public String sayHello() {
		// 初始化实体对象数据
		user.setUserName("zhangsan");
		user.setPassword("123456");
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>Hello.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>基本属性<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>ID<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>实体对象<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>用户名<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>密码<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;h1&gt;1.基本属性&lt;/h1&gt;
	&lt;h2&gt;ID:&lt;s:property value="id"/&gt;&lt;/h2&gt;
	&lt;h2&gt;Name:&lt;s:property value="name"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.实体对象&lt;/h1&gt;
	&lt;h2&gt;用户名:&lt;s:property value="user.userName"/&gt;&lt;/h2&gt;
	&lt;h2&gt;密码:&lt;s:property value="user.password"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case2">
      </a>
      <h2>2 使用OGNL表达式-2</h2>
      <h3>2.1 问题</h3>
      <p>练习使用OGNL表达式的后6种用法，即</p>
      <ol class="list">
        <li>访问集合/数组
</li>
        <li>访问Map
</li>
        <li>访问时运算
</li>
        <li>访问时调用方法
</li>
        <li>创建集合
</li>
        <li>创建Map
</li>
      </ol>
      <p>相对于前2种用法，这些用法不是很常用，同学们以了解为主。</p>
      <h3>2.2 方案</h3>
      <p>在项目StrutsDay02基础上，使用OGNL表达式的后6种用法访问HelloAction中的属性值。</p>
      <h3>2.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：Action中准备数据</p>
      <p>由于用法较多，比较繁琐，我们一次性在Action中准备好页面要访问的全部数据，这样就不用反复重启tomcat了。即在HelloAction中准备如下类型的数据：集合、数组、Map，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>HashMap<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>Map<span class="sh_symbol">;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 数组和集合</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_cbracket">{</span> <span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"guangzhou"</span> <span class="sh_cbracket">}</span><span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// Map</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> HashMap<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化集合数据</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"shenzhen"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"chongqing"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"qingdao"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化Map数据</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"2300万人口"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"2000万人口"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"guangzhou"</span><span class="sh_symbol">,</span> <span class="sh_string">"1800万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_function">getCityArray</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityArray<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityArray</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityArray <span class="sh_symbol">=</span> cityArray<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityList</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityList<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityList</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityList <span class="sh_symbol">=</span> cityList<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityMap</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityMap<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityMap</span><span class="sh_symbol">(</span>Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityMap <span class="sh_symbol">=</span> cityMap<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
	// 实体对象
	private User user = new User();
#cold_bold	// 数组和集合
#cold_bold	private String[] cityArray = new String[] { "beijing", "shanghai", "guangzhou" };
#cold_bold	private List&lt;String&gt; cityList = new ArrayList&lt;String&gt;();
#cold_bold	// Map
#cold_bold	private Map&lt;String, String&gt; cityMap = new HashMap&lt;String, String&gt;();

	public String sayHello() {
		// 初始化实体对象数据
		user.setUserName("zhangsan");
		user.setPassword("123456");
#cold_bold		// 初始化集合数据
#cold_bold		cityList.add("shenzhen");
#cold_bold		cityList.add("chongqing");
#cold_bold		cityList.add("qingdao");
#cold_bold		// 初始化Map数据
#cold_bold		cityMap.put("beijing", "2300万人口");
#cold_bold		cityMap.put("shanghai", "2000万人口");
#cold_bold		cityMap.put("guangzhou", "1800万人口");
		
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

#cold_bold	public String[] getCityArray() {
#cold_bold		return cityArray;
#cold_bold	}
#cold_bold
#cold_bold	public void setCityArray(String[] cityArray) {
#cold_bold		this.cityArray = cityArray;
#cold_bold	}
#cold_bold
#cold_bold	public List&lt;String&gt; getCityList() {
#cold_bold		return cityList;
#cold_bold	}
#cold_bold
#cold_bold	public void setCityList(List&lt;String&gt; cityList) {
#cold_bold		this.cityList = cityList;
#cold_bold	}
#cold_bold
#cold_bold	public Map&lt;String, String&gt; getCityMap() {
#cold_bold		return cityMap;
#cold_bold	}
#cold_bold
#cold_bold	public void setCityMap(Map&lt;String, String&gt; cityMap) {
#cold_bold		this.cityMap = cityMap;
#cold_bold	}

}
</pre></div></div>
      <p class="number">步骤二：访问集合/数组</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式输出HelloAction中的数组和集合属性值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;!</span>—此处略去其他表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>数组和集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>数组中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityList[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
&lt;!—此处略去其他表达式的演示... --&gt;	
#cold_bold	&lt;h1&gt;3.数组和集合&lt;/h1&gt;
#cold_bold	&lt;h2&gt;数组中的城市:&lt;s:property value="cityArray[1]"/&gt;&lt;/h2&gt;
#cold_bold	&lt;h2&gt;集合中的城市:&lt;s:property value="cityList[1]"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image010.png">
        <p>图-10</p>
      </div>
      <p class="number">步骤三：访问Map</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式输出HelloAction中的Map属性值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去其他表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Map中的城市人口<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityMap.beijing"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去其他表达式的演示... --&gt;
	
#cold_bold	&lt;h1&gt;4.Map&lt;/h1&gt;
#cold_bold	&lt;h2&gt;Map中的城市人口:&lt;s:property value="cityMap.beijing"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image011.png">
        <p>图-11</p>
      </div>
      <p class="number">步骤四：访问时进行运算</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式输出HelloAction中的任意属性值，同时可以在OGNL表达式中对返回结果进行运算，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去其他表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">.</span>访问时运算<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>My Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"'My name is '+name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>去哪<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]+'，我来了！'"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去其他表达式的演示... --&gt;
	
#cold_bold	&lt;h1&gt;5.访问时运算&lt;/h1&gt;
#cold_bold	&lt;h2&gt;My Name:&lt;s:property value="'My name is '+name"/&gt;&lt;/h2&gt;
#cold_bold	&lt;h2&gt;去哪:&lt;s:property value="cityArray[1]+'，我来了！'"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image012.png">
        <p>图-12</p>
      </div>
      <p class="number">步骤五：访问时调用方法</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式输出HelloAction中的任意属性值，同时可以在OGNL中调用返回值的方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去其他表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">6</span><span class="sh_symbol">.</span>访问时调用方法<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>MY NAME<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name.toUpperCase()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去其他表达式的演示... --&gt;
	
#cold_bold	&lt;h1&gt;6.访问时调用方法&lt;/h1&gt;
#cold_bold	&lt;h2&gt;MY NAME:&lt;s:property value="name.toUpperCase()"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image013.png">
        <p>图-13</p>
      </div>
      <p class="number">步骤六：创建集合</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式创建一个临时的集合并输出，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去其他表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">7</span><span class="sh_symbol">.</span>创建集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建集合<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}.getClass().getName()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去其他表达式的演示... --&gt;
	
#cold_bold	&lt;h1&gt;7.创建集合&lt;/h1&gt;
#cold_bold	&lt;h2&gt;创建集合:&lt;s:property value="{'a','b','c'}"/&gt;&lt;/h2&gt;
#cold_bold	&lt;h2&gt;集合类型:&lt;s:property value="{'a','b','c'}.getClass().getName()"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image014.png">
        <p>图-14</p>
      </div>
      <p class="number">步骤七：创建Map</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL表达式创建一个临时的Map并输出，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去其他表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">8</span><span class="sh_symbol">.</span>创建Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建Map<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}.getClass().getName()"</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去其他表达式的演示... --&gt;
	
#cold_bold	&lt;h1&gt;8.创建Map&lt;/h1&gt;
#cold_bold	&lt;h2&gt;创建Map:&lt;s:property value="#{'mm':'MM','nn':'NN'}"/&gt;&lt;/h2&gt;
#cold_bold	&lt;h2&gt;
#cold_bold		Map类型:&lt;s:property value="#{'mm':'MM','nn':'NN'}.getClass().getName()"/&gt;
#cold_bold	&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image015.png">
        <p>图-15</p>
      </div>
      <h3>2.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>HelloAction完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>HashMap<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>Map<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 数组和集合</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_cbracket">{</span> <span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"guangzhou"</span> <span class="sh_cbracket">}</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// Map</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> HashMap<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化集合数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"shenzhen"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"chongqing"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"qingdao"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化Map数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"2300万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"2000万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"guangzhou"</span><span class="sh_symbol">,</span> <span class="sh_string">"1800万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_function">getCityArray</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityArray</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityArray <span class="sh_symbol">=</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityList</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityList</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityList <span class="sh_symbol">=</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityMap</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityMap</span><span class="sh_symbol">(</span>Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityMap <span class="sh_symbol">=</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
	// 实体对象
	private User user = new User();
	// 数组和集合
	private String[] cityArray = new String[] { "beijing", "shanghai", "guangzhou" };
	private List&lt;String&gt; cityList = new ArrayList&lt;String&gt;();
	// Map
	private Map&lt;String, String&gt; cityMap = new HashMap&lt;String, String&gt;();

	public String sayHello() {
		// 初始化实体对象数据
		user.setUserName("zhangsan");
		user.setPassword("123456");
		// 初始化集合数据
		cityList.add("shenzhen");
		cityList.add("chongqing");
		cityList.add("qingdao");
		// 初始化Map数据
		cityMap.put("beijing", "2300万人口");
		cityMap.put("shanghai", "2000万人口");
		cityMap.put("guangzhou", "1800万人口");
		
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

	public String[] getCityArray() {
		return cityArray;
	}

	public void setCityArray(String[] cityArray) {
		this.cityArray = cityArray;
	}

	public List&lt;String&gt; getCityList() {
		return cityList;
	}

	public void setCityList(List&lt;String&gt; cityList) {
		this.cityList = cityList;
	}

	public Map&lt;String, String&gt; getCityMap() {
		return cityMap;
	}

	public void setCityMap(Map&lt;String, String&gt; cityMap) {
		this.cityMap = cityMap;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>hello.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>基本属性<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>ID<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>实体对象<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>用户名<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>密码<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>数组和集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>数组中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityList[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Map中的城市人口<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityMap.beijing"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">.</span>访问时运算<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>My Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"'My name is '+name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>去哪<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]+'，我来了！'"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">6</span><span class="sh_symbol">.</span>访问时调用方法<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>MY NAME<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name.toUpperCase()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">7</span><span class="sh_symbol">.</span>创建集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建集合<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}.getClass().getName()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">8</span><span class="sh_symbol">.</span>创建Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建Map<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}.getClass().getName()"</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;h1&gt;1.基本属性&lt;/h1&gt;
	&lt;h2&gt;ID:&lt;s:property value="id"/&gt;&lt;/h2&gt;
	&lt;h2&gt;Name:&lt;s:property value="name"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.实体对象&lt;/h1&gt;
	&lt;h2&gt;用户名:&lt;s:property value="user.userName"/&gt;&lt;/h2&gt;
	&lt;h2&gt;密码:&lt;s:property value="user.password"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.数组和集合&lt;/h1&gt;
	&lt;h2&gt;数组中的城市:&lt;s:property value="cityArray[1]"/&gt;&lt;/h2&gt;
	&lt;h2&gt;集合中的城市:&lt;s:property value="cityList[1]"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;4.Map&lt;/h1&gt;
	&lt;h2&gt;Map中的城市人口:&lt;s:property value="cityMap.beijing"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;5.访问时运算&lt;/h1&gt;
	&lt;h2&gt;My Name:&lt;s:property value="'My name is '+name"/&gt;&lt;/h2&gt;
	&lt;h2&gt;去哪:&lt;s:property value="cityArray[1]+'，我来了！'"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;6.访问时调用方法&lt;/h1&gt;
	&lt;h2&gt;MY NAME:&lt;s:property value="name.toUpperCase()"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;7.创建集合&lt;/h1&gt;
	&lt;h2&gt;创建集合:&lt;s:property value="{'a','b','c'}"/&gt;&lt;/h2&gt;
	&lt;h2&gt;集合类型:&lt;s:property value="{'a','b','c'}.getClass().getName()"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;8.创建Map&lt;/h1&gt;
	&lt;h2&gt;创建Map:&lt;s:property value="#{'mm':'MM','nn':'NN'}"/&gt;&lt;/h2&gt;
	&lt;h2&gt;
		Map类型:&lt;s:property value="#{'mm':'MM','nn':'NN'}.getClass().getName()"/&gt;
	&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>其他代码不变，不再重复。</p>
      <a name="case3">
      </a>
      <h2>3 访问ValueStack-1</h2>
      <h3>3.1 问题</h3>
      <p>在页面上，使用Struts2标签和OGNL表达式观察ValueStack的结构，并访问ValueStack中栈对象和Context对象的数据，包括如下内容</p>
      <ol class="list">
        <li>观察ValueStack结构
</li>
        <li>输出栈顶内容
</li>
        <li>输出Context对象中的数据
</li>
        <li>遍历集合
</li>
        <li>按数字迭代
</li>
      </ol>
      <p>本案例中，我们先练习前3个知识点。</p>
      <h3>3.2 方案</h3>
      <p>复用项目StrutsDay02，在hello.jsp上写Struts2标签和OGNL表达式观察并访问ValueStack。</p>
      <h3>3.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：观察ValueStack结构</p>
      <p>在hello.jsp上增加&lt;s:debug/&gt;标签，通过该标签来观察ValueStack结构，代码如下图：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去OGNL表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去OGNL表达式的演示... --&gt;
	
#cold_bold	&lt;!-- ValueStack示例 --&gt;
#cold_bold	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
#cold_bold	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image016.png">
        <p>图-16</p>
      </div>
      <p class="number">步骤二：输出栈顶内容</p>
      <p>在hello.jsp上，使用Struts2标签输出栈顶的内容，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去OGNL表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>栈顶<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Stack Top<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">property</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去OGNL表达式的演示... --&gt;
	
	&lt;!-- ValueStack示例 --&gt;
	
	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
#cold_bold	&lt;h1&gt;2.栈顶&lt;/h1&gt;
#cold_bold	&lt;h2&gt;Stack Top:&lt;s:property/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image017.png">
        <p>图-17</p>
      </div>
      <p class="number">步骤三：输出Context对象中的数据</p>
      <p>hello.jsp中，在Struts2显示标签上使用OGNL输出ValueStack中Context对象的值，表达式格式为“#key”，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去OGNL表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>栈顶<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Stack Top<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">property</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>输出context对象中的数据<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>context<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#action.user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去OGNL表达式的演示... --&gt;
	
	&lt;!-- ValueStack示例 --&gt;
	
	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.栈顶&lt;/h1&gt;
	&lt;h2&gt;Stack Top:&lt;s:property/&gt;&lt;/h2&gt;
	
#cold_bold	&lt;h1&gt;3.输出context对象中的数据&lt;/h1&gt;
#cold_bold	&lt;h2&gt;context:&lt;s:property value="#action.user.userName"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image018.png">
        <p>图-18</p>
      </div>
      <h3>3.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>hello.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>基本属性<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>ID<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>实体对象<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>用户名<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>密码<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>数组和集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>数组中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityList[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Map中的城市人口<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityMap.beijing"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">.</span>访问时运算<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>My Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"'My name is '+name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>去哪<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]+'，我来了！'"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">6</span><span class="sh_symbol">.</span>访问时调用方法<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>MY NAME<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name.toUpperCase()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">7</span><span class="sh_symbol">.</span>创建集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建集合<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}.getClass().getName()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">8</span><span class="sh_symbol">.</span>创建Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建Map<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}.getClass().getName()"</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>栈顶<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Stack Top<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">property</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>输出context对象中的数据<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>context<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#action.user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;h1&gt;1.基本属性&lt;/h1&gt;
	&lt;h2&gt;ID:&lt;s:property value="id"/&gt;&lt;/h2&gt;
	&lt;h2&gt;Name:&lt;s:property value="name"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.实体对象&lt;/h1&gt;
	&lt;h2&gt;用户名:&lt;s:property value="user.userName"/&gt;&lt;/h2&gt;
	&lt;h2&gt;密码:&lt;s:property value="user.password"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.数组和集合&lt;/h1&gt;
	&lt;h2&gt;数组中的城市:&lt;s:property value="cityArray[1]"/&gt;&lt;/h2&gt;
	&lt;h2&gt;集合中的城市:&lt;s:property value="cityList[1]"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;4.Map&lt;/h1&gt;
	&lt;h2&gt;Map中的城市人口:&lt;s:property value="cityMap.beijing"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;5.访问时运算&lt;/h1&gt;
	&lt;h2&gt;My Name:&lt;s:property value="'My name is '+name"/&gt;&lt;/h2&gt;
	&lt;h2&gt;去哪:&lt;s:property value="cityArray[1]+'，我来了！'"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;6.访问时调用方法&lt;/h1&gt;
	&lt;h2&gt;MY NAME:&lt;s:property value="name.toUpperCase()"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;7.创建集合&lt;/h1&gt;
	&lt;h2&gt;创建集合:&lt;s:property value="{'a','b','c'}"/&gt;&lt;/h2&gt;
	&lt;h2&gt;集合类型:&lt;s:property value="{'a','b','c'}.getClass().getName()"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;8.创建Map&lt;/h1&gt;
	&lt;h2&gt;创建Map:&lt;s:property value="#{'mm':'MM','nn':'NN'}"/&gt;&lt;/h2&gt;
	&lt;h2&gt;
		Map类型:&lt;s:property value="#{'mm':'MM','nn':'NN'}.getClass().getName()"/&gt;
	&lt;/h2&gt;
	
	&lt;!-- ValueStack示例 --&gt;
	
	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.栈顶&lt;/h1&gt;
	&lt;h2&gt;Stack Top:&lt;s:property/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.输出context对象中的数据&lt;/h1&gt;
	&lt;h2&gt;context:&lt;s:property value="#action.user.userName"/&gt;&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>其他代码不变，不再重复。</p>
      <a name="case4">
      </a>
      <h2>4 访问ValueStack-2</h2>
      <h3>4.1 问题</h3>
      <p>练习使用ValueStack，即：</p>
      <ol class="list">
        <li>遍历集合
</li>
        <li>按数字迭代
</li>
      </ol>
      <h3>4.2 方案</h3>
      <p>复用项目StrutsDay02，在hello.jsp上写Struts2标签和OGNL表达式，练习迭代集合以及按数字进行迭代。</p>
      <h3>4.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：遍历集合</p>
      <p>在HelloAction中追加集合属性并实例化，同时提供get、set方法，在业务方法中初始化集合的数据，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>HashMap<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>Map<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>Emp<span class="sh_symbol">;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 数组和集合</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_cbracket">{</span> <span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"guangzhou"</span> <span class="sh_cbracket">}</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// Map</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> HashMap<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 员工集合</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> emps <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;();</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化集合数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"shenzhen"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"chongqing"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"qingdao"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化Map数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"2300万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"2000万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"guangzhou"</span><span class="sh_symbol">,</span> <span class="sh_string">"1800万人口"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化员工数据</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"刘备"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">8000.0</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e2 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"关羽"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">6000.0</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e2<span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e3 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e3<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"张飞"</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e3<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">5000.0</span><span class="sh_symbol">);</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e3<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_function">getCityArray</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityArray</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityArray <span class="sh_symbol">=</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityList</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityList</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityList <span class="sh_symbol">=</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityMap</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityMap</span><span class="sh_symbol">(</span>Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityMap <span class="sh_symbol">=</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> <span class="sh_function">getEmps</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> emps<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setEmps</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> emps<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>emps <span class="sh_symbol">=</span> emps<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import entity.Emp;
import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
	// 实体对象
	private User user = new User();
	// 数组和集合
	private String[] cityArray = new String[] { "beijing", "shanghai", "guangzhou" };
	private List&lt;String&gt; cityList = new ArrayList&lt;String&gt;();
	// Map
	private Map&lt;String, String&gt; cityMap = new HashMap&lt;String, String&gt;();
	
#cold_bold	// 员工集合
#cold_bold	private List&lt;Emp&gt; emps = new ArrayList&lt;Emp&gt;();

	public String sayHello() {
		// 初始化实体对象数据
		user.setUserName("zhangsan");
		user.setPassword("123456");
		// 初始化集合数据
		cityList.add("shenzhen");
		cityList.add("chongqing");
		cityList.add("qingdao");
		// 初始化Map数据
		cityMap.put("beijing", "2300万人口");
		cityMap.put("shanghai", "2000万人口");
		cityMap.put("guangzhou", "1800万人口");
#cold_bold		// 初始化员工数据
#cold_bold		Emp e1 = new Emp();
#cold_bold		e1.setEmpName("刘备");
#cold_bold		e1.setSalary(8000.0);
#cold_bold		emps.add(e1);
#cold_bold		Emp e2 = new Emp();
#cold_bold		e2.setEmpName("关羽");
#cold_bold		e2.setSalary(6000.0);
#cold_bold		emps.add(e2);
#cold_bold		Emp e3 = new Emp();
#cold_bold		e3.setEmpName("张飞");
#cold_bold		e3.setSalary(5000.0);
#cold_bold		emps.add(e3);
		
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

	public String[] getCityArray() {
		return cityArray;
	}

	public void setCityArray(String[] cityArray) {
		this.cityArray = cityArray;
	}

	public List&lt;String&gt; getCityList() {
		return cityList;
	}

	public void setCityList(List&lt;String&gt; cityList) {
		this.cityList = cityList;
	}

	public Map&lt;String, String&gt; getCityMap() {
		return cityMap;
	}

	public void setCityMap(Map&lt;String, String&gt; cityMap) {
		this.cityMap = cityMap;
	}

#cold_bold	public List&lt;Emp&gt; getEmps() {
#cold_bold		return emps;
#cold_bold	}
#cold_bold
#cold_bold	public void setEmps(List&lt;Emp&gt; emps) {
#cold_bold		this.emps = emps;
#cold_bold	}

}
</pre></div></div>
      <p>在hello.jsp中，使用迭代标签遍历上述集合属性，并输出集合中变量emp的属性值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去OGNL表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>栈顶<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Stack Top<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">property</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>输出context对象中的数据<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>context<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#action.user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>遍历集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>迭代标签，遍历集合 <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator value<span class="sh_symbol">=</span><span class="sh_string">"emps"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;迭代过程中，栈顶为Emp对象，</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;写OGNL输出其属性值。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;员工：<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"empName"</span><span class="sh_symbol">/&gt;</span>，</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;工资为<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"salary"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去OGNL表达式的演示... --&gt;
	
	&lt;!-- ValueStack示例 --&gt;
	
	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.栈顶&lt;/h1&gt;
	&lt;h2&gt;Stack Top:&lt;s:property/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.输出context对象中的数据&lt;/h1&gt;
	&lt;h2&gt;context:&lt;s:property value="#action.user.userName"/&gt;&lt;/h2&gt;
	
#cold_bold	&lt;h1&gt;4.遍历集合&lt;/h1&gt;
#cold_bold	&lt;h2&gt;
#cold_bold		&lt;!--迭代标签，遍历集合 --&gt;
#cold_bold		&lt;s:iterator value="emps"&gt;
#cold_bold			&lt;!-- 
#cold_bold				迭代过程中，栈顶为Emp对象，
#cold_bold				写OGNL输出其属性值。
#cold_bold			 --&gt;
#cold_bold			员工：&lt;s:property value="empName"/&gt;，
#cold_bold			工资为&lt;s:property value="salary"/&gt;&lt;br/&gt;
#cold_bold		&lt;/s:iterator&gt;
#cold_bold	&lt;/h2&gt;
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image019.png">
        <p>图-19</p>
      </div>
      <p class="number">步骤二：按数字迭代</p>
      <p>在HelloAction中追加迭代的起止值并实例化，同时提供get、set方法，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>HashMap<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>Map<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>Emp<span class="sh_symbol">;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 数组和集合</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_cbracket">{</span> <span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"guangzhou"</span> <span class="sh_cbracket">}</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// Map</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> HashMap<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 员工集合</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> emps <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;();</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//迭代数字的起止值</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer from <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer to <span class="sh_symbol">=</span> <span class="sh_number">3</span><span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化集合数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"shenzhen"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"chongqing"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"qingdao"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化Map数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"2300万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"2000万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"guangzhou"</span><span class="sh_symbol">,</span> <span class="sh_string">"1800万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化员工数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"刘备"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">8000.0</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e2 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"关羽"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">6000.0</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e2<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e3 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e3<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"张飞"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e3<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">5000.0</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e3<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_function">getCityArray</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityArray</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityArray <span class="sh_symbol">=</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityList</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityList</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityList <span class="sh_symbol">=</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityMap</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityMap</span><span class="sh_symbol">(</span>Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityMap <span class="sh_symbol">=</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> <span class="sh_function">getEmps</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> emps<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setEmps</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> emps<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>emps <span class="sh_symbol">=</span> emps<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getFrom</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> from<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setFrom</span><span class="sh_symbol">(</span>Integer from<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>from <span class="sh_symbol">=</span> from<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getTo</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> to<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li class="bold_code"></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setTo</span><span class="sh_symbol">(</span>Integer to<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>to <span class="sh_symbol">=</span> to<span class="sh_symbol">;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import entity.Emp;
import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
	// 实体对象
	private User user = new User();
	// 数组和集合
	private String[] cityArray = new String[] { "beijing", "shanghai", "guangzhou" };
	private List&lt;String&gt; cityList = new ArrayList&lt;String&gt;();
	// Map
	private Map&lt;String, String&gt; cityMap = new HashMap&lt;String, String&gt;();
	
	// 员工集合
	private List&lt;Emp&gt; emps = new ArrayList&lt;Emp&gt;();
#cold_bold	//迭代数字的起止值
#cold_bold	private Integer from = 1;
#cold_bold	private Integer to = 3;

	public String sayHello() {
		// 初始化实体对象数据
		user.setUserName("zhangsan");
		user.setPassword("123456");
		// 初始化集合数据
		cityList.add("shenzhen");
		cityList.add("chongqing");
		cityList.add("qingdao");
		// 初始化Map数据
		cityMap.put("beijing", "2300万人口");
		cityMap.put("shanghai", "2000万人口");
		cityMap.put("guangzhou", "1800万人口");
		// 初始化员工数据
		Emp e1 = new Emp();
		e1.setEmpName("刘备");
		e1.setSalary(8000.0);
		emps.add(e1);
		Emp e2 = new Emp();
		e2.setEmpName("关羽");
		e2.setSalary(6000.0);
		emps.add(e2);
		Emp e3 = new Emp();
		e3.setEmpName("张飞");
		e3.setSalary(5000.0);
		emps.add(e3);
		
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

	public String[] getCityArray() {
		return cityArray;
	}

	public void setCityArray(String[] cityArray) {
		this.cityArray = cityArray;
	}

	public List&lt;String&gt; getCityList() {
		return cityList;
	}

	public void setCityList(List&lt;String&gt; cityList) {
		this.cityList = cityList;
	}

	public Map&lt;String, String&gt; getCityMap() {
		return cityMap;
	}

	public void setCityMap(Map&lt;String, String&gt; cityMap) {
		this.cityMap = cityMap;
	}

	public List&lt;Emp&gt; getEmps() {
		return emps;
	}

	public void setEmps(List&lt;Emp&gt; emps) {
		this.emps = emps;
	}

#cold_bold	public Integer getFrom() {
#cold_bold		return from;
#cold_bold	}
#cold_bold
#cold_bold	public void setFrom(Integer from) {
#cold_bold		this.from = from;
#cold_bold	}
#cold_bold
#cold_bold	public Integer getTo() {
#cold_bold		return to;
#cold_bold	}
#cold_bold
#cold_bold	public void setTo(Integer to) {
#cold_bold		this.to = to;
#cold_bold	}

}
</pre></div></div>
      <p>在hello.jsp中，使用迭代标签按照HelloAction中的起止值循环，并输出循环变量的值，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!</span>—此处略去OGNL表达式的演示<span class="sh_symbol">...</span> <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>栈顶<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Stack Top<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">property</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>输出context对象中的数据<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>context<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#action.user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>遍历集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>迭代标签，遍历集合 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator value<span class="sh_symbol">=</span><span class="sh_string">"emps"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;迭代过程中，栈顶为Emp对象，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;写OGNL输出其属性值。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;员工：<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"empName"</span><span class="sh_symbol">/&gt;</span>，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;工资为<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"salary"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">.</span>循环数字<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span>迭代标签，按数字迭代 <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator begin<span class="sh_symbol">=</span><span class="sh_string">"from"</span> end<span class="sh_symbol">=</span><span class="sh_string">"to"</span> <span class="sh_keyword">var</span><span class="sh_symbol">=</span><span class="sh_string">"p"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;迭代过程中，栈顶为数字，但不能以数字为root写OGNL。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此时可以声明变量p，通过Context对象实现对变量的访问。</li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#p"</span><span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;!—此处略去OGNL表达式的演示... --&gt;
	
	&lt;!-- ValueStack示例 --&gt;
	
	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.栈顶&lt;/h1&gt;
	&lt;h2&gt;Stack Top:&lt;s:property/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.输出context对象中的数据&lt;/h1&gt;
	&lt;h2&gt;context:&lt;s:property value="#action.user.userName"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;4.遍历集合&lt;/h1&gt;
	&lt;h2&gt;
		&lt;!--迭代标签，遍历集合 --&gt;
		&lt;s:iterator value="emps"&gt;
			&lt;!-- 
				迭代过程中，栈顶为Emp对象，
				写OGNL输出其属性值。
			 --&gt;
			员工：&lt;s:property value="empName"/&gt;，
			工资为&lt;s:property value="salary"/&gt;&lt;br/&gt;
		&lt;/s:iterator&gt;
	&lt;/h2&gt;
	
#cold_bold	&lt;h1&gt;5.循环数字&lt;/h1&gt;
#cold_bold	&lt;h2&gt;
#cold_bold		&lt;!--迭代标签，按数字迭代 --&gt;
#cold_bold		&lt;s:iterator begin="from" end="to" var="p"&gt;
#cold_bold			&lt;!-- 
#cold_bold				迭代过程中，栈顶为数字，但不能以数字为root写OGNL。
#cold_bold				此时可以声明变量p，通过Context对象实现对变量的访问。
#cold_bold			 --&gt;
#cold_bold			&lt;s:property value="#p"/&gt;
#cold_bold		&lt;/s:iterator&gt;
#cold_bold	&lt;/h2&gt;		
	
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署StrutsDay02并启动tomcat后，访问StrutsDay02，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image020.png">
        <p>图-20</p>
      </div>
      <h3>4.4 完整代码</h3>
      <p>本案例的完整代码如下所示：</p>
      <p>HelloAction完整代码</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>package action<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>ArrayList<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>HashMap<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>List<span class="sh_symbol">;</span></li><li>import java<span class="sh_symbol">.</span>util<span class="sh_symbol">.</span>Map<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>import entity<span class="sh_symbol">.</span>Emp<span class="sh_symbol">;</span></li><li>import entity<span class="sh_symbol">.</span>User<span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_keyword">public</span> <span class="sh_keyword">class</span> HelloAction <span class="sh_cbracket">{</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 基本类型</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer id <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span> name <span class="sh_symbol">=</span> <span class="sh_string">"zhangsan"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 实体对象</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> User user <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">User</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 数组和集合</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_cbracket">{</span> <span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"guangzhou"</span> <span class="sh_cbracket">}</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// Map</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> HashMap<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 员工集合</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> emps <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> ArrayList<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//迭代数字的起止值</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer from <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">private</span> Integer to <span class="sh_symbol">=</span> <span class="sh_number">3</span><span class="sh_symbol">;</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">sayHello</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化实体对象数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setUserName</span><span class="sh_symbol">(</span><span class="sh_string">"zhangsan"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user<span class="sh_symbol">.</span><span class="sh_function">setPassword</span><span class="sh_symbol">(</span><span class="sh_string">"123456"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化集合数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"shenzhen"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"chongqing"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityList<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span><span class="sh_string">"qingdao"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化Map数据</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"beijing"</span><span class="sh_symbol">,</span> <span class="sh_string">"2300万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"shanghai"</span><span class="sh_symbol">,</span> <span class="sh_string">"2000万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cityMap<span class="sh_symbol">.</span><span class="sh_function">put</span><span class="sh_symbol">(</span><span class="sh_string">"guangzhou"</span><span class="sh_symbol">,</span> <span class="sh_string">"1800万人口"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 初始化员工数据 </span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e1 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"刘备"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">8000.0</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e1<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e2 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"关羽"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">6000.0</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e2<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Emp e3 <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Emp</span><span class="sh_symbol">();</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e3<span class="sh_symbol">.</span><span class="sh_function">setEmpName</span><span class="sh_symbol">(</span><span class="sh_string">"张飞"</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e3<span class="sh_symbol">.</span><span class="sh_function">setSalary</span><span class="sh_symbol">(</span><span class="sh_number">5000.0</span><span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emps<span class="sh_symbol">.</span><span class="sh_function">add</span><span class="sh_symbol">(</span>e3<span class="sh_symbol">);</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> <span class="sh_string">"success"</span><span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getId</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setId</span><span class="sh_symbol">(</span>Integer id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>id <span class="sh_symbol">=</span> id<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span> <span class="sh_function">getName</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setName</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span> name<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>name <span class="sh_symbol">=</span> name<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> User <span class="sh_function">getUser</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setUser</span><span class="sh_symbol">(</span>User user<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>user <span class="sh_symbol">=</span> user<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> <span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> <span class="sh_function">getCityArray</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityArray</span><span class="sh_symbol">(</span><span class="sh_predef_func">String</span><span class="sh_symbol">[]</span> cityArray<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityArray <span class="sh_symbol">=</span> cityArray<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityList</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityList</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityList<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityList <span class="sh_symbol">=</span> cityList<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> <span class="sh_function">getCityMap</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setCityMap</span><span class="sh_symbol">(</span>Map<span class="sh_symbol">&lt;</span><span class="sh_predef_func">String</span><span class="sh_symbol">,</span> <span class="sh_predef_func">String</span><span class="sh_symbol">&gt;</span> cityMap<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>cityMap <span class="sh_symbol">=</span> cityMap<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> <span class="sh_function">getEmps</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> emps<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setEmps</span><span class="sh_symbol">(</span>List<span class="sh_symbol">&lt;</span>Emp<span class="sh_symbol">&gt;</span> emps<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>emps <span class="sh_symbol">=</span> emps<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getFrom</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> from<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setFrom</span><span class="sh_symbol">(</span>Integer from<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>from <span class="sh_symbol">=</span> from<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> Integer <span class="sh_function">getTo</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">return</span> to<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">public</span> void <span class="sh_function">setTo</span><span class="sh_symbol">(</span>Integer to<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_keyword">this</span><span class="sh_symbol">.</span>to <span class="sh_symbol">=</span> to<span class="sh_symbol">;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_cbracket">}</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">package action;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import entity.Emp;
import entity.User;

public class HelloAction {

	// 基本类型
	private Integer id = 1;
	private String name = "zhangsan";
	// 实体对象
	private User user = new User();
	// 数组和集合
	private String[] cityArray = new String[] { "beijing", "shanghai", "guangzhou" };
	private List&lt;String&gt; cityList = new ArrayList&lt;String&gt;();
	// Map
	private Map&lt;String, String&gt; cityMap = new HashMap&lt;String, String&gt;();
	
	// 员工集合
	private List&lt;Emp&gt; emps = new ArrayList&lt;Emp&gt;();
	//迭代数字的起止值
	private Integer from = 1;
	private Integer to = 3;

	public String sayHello() {
		// 初始化实体对象数据
		user.setUserName("zhangsan");
		user.setPassword("123456");
		// 初始化集合数据
		cityList.add("shenzhen");
		cityList.add("chongqing");
		cityList.add("qingdao");
		// 初始化Map数据
		cityMap.put("beijing", "2300万人口");
		cityMap.put("shanghai", "2000万人口");
		cityMap.put("guangzhou", "1800万人口");
		// 初始化员工数据 
		Emp e1 = new Emp();
		e1.setEmpName("刘备");
		e1.setSalary(8000.0);
		emps.add(e1);
		Emp e2 = new Emp();
		e2.setEmpName("关羽");
		e2.setSalary(6000.0);
		emps.add(e2);
		Emp e3 = new Emp();
		e3.setEmpName("张飞");
		e3.setSalary(5000.0);
		emps.add(e3);
		
		return "success";
	}

	public Integer getId() {
		return id;
	}

	public void setId(Integer id) {
		this.id = id;
	}

	public String getName() {
		return name;
	}

	public void setName(String name) {
		this.name = name;
	}

	public User getUser() {
		return user;
	}

	public void setUser(User user) {
		this.user = user;
	}

	public String[] getCityArray() {
		return cityArray;
	}

	public void setCityArray(String[] cityArray) {
		this.cityArray = cityArray;
	}

	public List&lt;String&gt; getCityList() {
		return cityList;
	}

	public void setCityList(List&lt;String&gt; cityList) {
		this.cityList = cityList;
	}

	public Map&lt;String, String&gt; getCityMap() {
		return cityMap;
	}

	public void setCityMap(Map&lt;String, String&gt; cityMap) {
		this.cityMap = cityMap;
	}

	public List&lt;Emp&gt; getEmps() {
		return emps;
	}

	public void setEmps(List&lt;Emp&gt; emps) {
		this.emps = emps;
	}

	public Integer getFrom() {
		return from;
	}

	public void setFrom(Integer from) {
		this.from = from;
	}

	public Integer getTo() {
		return to;
	}

	public void setTo(Integer to) {
		this.to = to;
	}

}
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>hello.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span> <span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;</span>html<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span>演示OGNL表达式<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>基本属性<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>ID<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>实体对象<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>用户名<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>密码<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"user.password"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>数组和集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>数组中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合中的城市<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityList[1]"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Map中的城市人口<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityMap.beijing"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">.</span>访问时运算<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>My Name<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"'My name is '+name"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>去哪<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"cityArray[1]+'，我来了！'"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">6</span><span class="sh_symbol">.</span>访问时调用方法<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>MY NAME<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name.toUpperCase()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">7</span><span class="sh_symbol">.</span>创建集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建集合<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>集合类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"{'a','b','c'}.getClass().getName()"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">8</span><span class="sh_symbol">.</span>创建Map<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>创建Map<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Map类型<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#{'mm':'MM','nn':'NN'}.getClass().getName()"</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> ValueStack示例 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">.</span>观察ValueStack结构<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">debug</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">.</span>栈顶<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>Stack Top<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span><span class="sh_normal">property</span><span class="sh_symbol">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">.</span>输出context对象中的数据<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span>context<span class="sh_symbol">:&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#action.user.userName"</span><span class="sh_regexp">/&gt;&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">.</span>遍历集合<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> 迭代标签，遍历集合 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator value<span class="sh_symbol">=</span><span class="sh_string">"emps"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;迭代过程中，栈顶为Emp对象，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;写OGNL输出其属性值。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;员工：<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"empName"</span><span class="sh_symbol">/&gt;</span>，</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;工资为<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"salary"</span><span class="sh_regexp">/&gt;&lt;br/</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h1<span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">.</span>循环数字<span class="sh_symbol">&lt;/</span>h1<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>h2<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> 迭代标签，按数字迭代 <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator begin<span class="sh_symbol">=</span><span class="sh_string">"from"</span> end<span class="sh_symbol">=</span><span class="sh_string">"to"</span> <span class="sh_keyword">var</span><span class="sh_symbol">=</span><span class="sh_string">"p"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;!--</span> </li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;迭代过程中，栈顶为数字，但不能以数字为root写OGNL。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;此时可以声明变量p，通过Context对象实现对变量的访问。</li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="sh_symbol">--&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"#p"</span><span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>h2<span class="sh_symbol">&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>&nbsp;&nbsp;&nbsp;&nbsp;</li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" %&gt;
&lt;%@taglib uri="/struts-tags" prefix="s" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h1&gt;演示OGNL表达式&lt;/h1&gt;
	
	&lt;h1&gt;1.基本属性&lt;/h1&gt;
	&lt;h2&gt;ID:&lt;s:property value="id"/&gt;&lt;/h2&gt;
	&lt;h2&gt;Name:&lt;s:property value="name"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.实体对象&lt;/h1&gt;
	&lt;h2&gt;用户名:&lt;s:property value="user.userName"/&gt;&lt;/h2&gt;
	&lt;h2&gt;密码:&lt;s:property value="user.password"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.数组和集合&lt;/h1&gt;
	&lt;h2&gt;数组中的城市:&lt;s:property value="cityArray[1]"/&gt;&lt;/h2&gt;
	&lt;h2&gt;集合中的城市:&lt;s:property value="cityList[1]"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;4.Map&lt;/h1&gt;
	&lt;h2&gt;Map中的城市人口:&lt;s:property value="cityMap.beijing"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;5.访问时运算&lt;/h1&gt;
	&lt;h2&gt;My Name:&lt;s:property value="'My name is '+name"/&gt;&lt;/h2&gt;
	&lt;h2&gt;去哪:&lt;s:property value="cityArray[1]+'，我来了！'"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;6.访问时调用方法&lt;/h1&gt;
	&lt;h2&gt;MY NAME:&lt;s:property value="name.toUpperCase()"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;7.创建集合&lt;/h1&gt;
	&lt;h2&gt;创建集合:&lt;s:property value="{'a','b','c'}"/&gt;&lt;/h2&gt;
	&lt;h2&gt;集合类型:&lt;s:property value="{'a','b','c'}.getClass().getName()"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;8.创建Map&lt;/h1&gt;
	&lt;h2&gt;创建Map:&lt;s:property value="#{'mm':'MM','nn':'NN'}"/&gt;&lt;/h2&gt;
	&lt;h2&gt;
		Map类型:&lt;s:property value="#{'mm':'MM','nn':'NN'}.getClass().getName()"/&gt;
	&lt;/h2&gt;
	
	&lt;!-- ValueStack示例 --&gt;
	&lt;h1&gt;1.观察ValueStack结构&lt;/h1&gt;
	&lt;h2&gt;&lt;s:debug/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;2.栈顶&lt;/h1&gt;
	&lt;h2&gt;Stack Top:&lt;s:property/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;3.输出context对象中的数据&lt;/h1&gt;
	&lt;h2&gt;context:&lt;s:property value="#action.user.userName"/&gt;&lt;/h2&gt;
	
	&lt;h1&gt;4.遍历集合&lt;/h1&gt;
	&lt;h2&gt;
		&lt;!-- 迭代标签，遍历集合 --&gt;
		&lt;s:iterator value="emps"&gt;
			&lt;!-- 
				迭代过程中，栈顶为Emp对象，
				写OGNL输出其属性值。
			 --&gt;
			员工：&lt;s:property value="empName"/&gt;，
			工资为&lt;s:property value="salary"/&gt;&lt;br/&gt;
		&lt;/s:iterator&gt;
	&lt;/h2&gt;
	
	&lt;h1&gt;5.循环数字&lt;/h1&gt;
	&lt;h2&gt;
		&lt;!-- 迭代标签，按数字迭代 --&gt;
		&lt;s:iterator begin="from" end="to" var="p"&gt;
			&lt;!-- 
				迭代过程中，栈顶为数字，但不能以数字为root写OGNL。
				此时可以声明变量p，通过Context对象实现对变量的访问。
			 --&gt;
			&lt;s:property value="#p"/&gt;
		&lt;/s:iterator&gt;
	&lt;/h2&gt;		
	
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <a name="case5">
      </a>
      <h2>5 重构资费列表</h2>
      <h3>5.1 问题</h3>
      <p>我们已经学会了使用Struts2标签+OGNL表达式访问ValueStack，从而访问到Action中的数据，那么请使用该手段重构NetCTOSS资费列表页面find_cost.jsp，将该页面上的JSTL标签+EL表达式重构为Struts2标签+OGNL表达式。</p>
      <h3>5.2 方案</h3>
      <p>使用Struts2的迭代标签及OGNL表达式重构find_cost.jsp。</p>
      <h3>5.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：重构资费列表页面</p>
      <p>重构find_cost.jsp，将其中的JSTL标签+EL表达式替换成Struts2标签+OGNL表达式，代码如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> isELIgnored<span class="sh_symbol">=</span><span class="sh_string">"false"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li>            <span class="sh_comment">//排序按钮的点击事件</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">sort</span><span class="sh_symbol">(</span>btnObj<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">==</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">)</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_asc"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">else</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//启用</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要启用此资费吗？资费启用后将不能修改和删除。"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li>            <span class="sh_comment">//删除</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">deleteFee</span><span class="sh_symbol">(</span>id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要删除此资费吗？"</span><span class="sh_symbol">);</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>r<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 如果用户确认，则调用删除资费action</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;window<span class="sh_symbol">.</span>location<span class="sh_symbol">.</span>href <span class="sh_symbol">=</span> <span class="sh_string">"deleteCost?id="</span><span class="sh_symbol">+</span>id<span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"header"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/logo.png"</span> alt<span class="sh_symbol">=</span><span class="sh_string">"logo"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"left"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;[</span>退出<span class="sh_symbol">]&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"navi"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>ul id<span class="sh_symbol">=</span><span class="sh_string">"menu"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../index.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"index_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../role/role_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"role_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../admin/admin_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"admin_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../fee/fee_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"fee_on"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../account/account_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"account_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../service/service_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"service_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../bill/bill_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"bill_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../report/report_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"report_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_info.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"information_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_modi_pwd.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"password_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>ul<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"main"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">""</span> method<span class="sh_symbol">=</span><span class="sh_string">""</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>排序<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"search_add"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"月租"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;--&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"基费"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"时长"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"增加"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_add"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='toAddCost';"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>启用操作的操作提示<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"operate_result_info"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"operate_success"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/close.png"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"this.parentNode.style.display='none';"</span> <span class="sh_symbol">/&gt;</span></li><li>删除成功！</li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>数据区域：用表格展示数据<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"data"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>table id<span class="sh_symbol">=</span><span class="sh_string">"datalist"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>资费ID<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width100"</span><span class="sh_symbol">&gt;</span>资费名称<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本时长<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>单位费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>创建时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>开通时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width50"</span><span class="sh_symbol">&gt;</span>状态<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width200"</span><span class="sh_symbol">&gt;&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li class="bold_code"><span class="sh_symbol">&lt;!--</span>使用Struts2标签遍历集合，使用OGNL表达式输出内容。 <span class="sh_symbol">--&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator value<span class="sh_symbol">=</span><span class="sh_string">"costs"</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"fee_detail.html"</span><span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>a<span class="sh_symbol">&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"baseDuration"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"baseCost"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"unitCost"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"createTime"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"startTime"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span><span class="sh_keyword">if</span> test<span class="sh_symbol">=</span><span class="sh_string">"status==0"</span><span class="sh_symbol">&gt;</span>开通<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span><span class="sh_keyword">if</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span><span class="sh_keyword">else</span><span class="sh_symbol">&gt;</span>暂停<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span><span class="sh_keyword">else</span><span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"启用"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_start"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"startFee();"</span> <span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"修改"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_modify"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='toUpdateCost?id=&lt;s:property value="</span>id<span class="sh_string">"/&gt;';"</span> <span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"删除"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_delete"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"deleteFee(&lt;s:property value="</span>id<span class="sh_string">"/&gt;);"</span> <span class="sh_symbol">/&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li class="bold_code">&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li class="bold_code"><span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>table<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>业务说明：<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">1</span>、创建资费时，状态为暂停，记载创建时间；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">2</span>、暂停状态下，可修改，可删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">3</span>、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">4</span>、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）</li><li><span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>分页<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"pages"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>上一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"current_page"</span><span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>下一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"footer"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;[</span>源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目<span class="sh_symbol">]&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>版权所有<span class="sh_symbol">(</span>C<span class="sh_symbol">)</span>加拿大达内IT培训集团公司<span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" isELIgnored="false"%&gt;
&lt;%@taglib uri="/struts-tags" prefix="s"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
            //排序按钮的点击事件
function sort(btnObj) {
if (btnObj.className == "sort_desc")
                    btnObj.className = "sort_asc";
else
                    btnObj.className = "sort_desc";
            }

            //启用
function startFee() {
                var r = window.confirm("确定要启用此资费吗？资费启用后将不能修改和删除。");
document.getElementById("operate_result_info").style.display = "block";
            }
            //删除
function deleteFee(id) {
                var r = window.confirm("确定要删除此资费吗？");
if(r) {
	// 如果用户确认，则调用删除资费action
	window.location.href = "deleteCost?id="+id;
                }
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--Logo区域开始--&gt;
&lt;div id="header"&gt;
&lt;img src="../images/logo.png" alt="logo" class="left"/&gt;
&lt;a href="#"&gt;[退出]&lt;/a&gt;
&lt;/div&gt;
&lt;!--Logo区域结束--&gt;
&lt;!--导航区域开始--&gt;
&lt;div id="navi"&gt;
&lt;ul id="menu"&gt;
&lt;li&gt;&lt;a href="../index.html" class="index_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../role/role_list.html" class="role_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../admin/admin_list.html" class="admin_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../fee/fee_list.html" class="fee_on"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../account/account_list.html" class="account_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../service/service_list.html" class="service_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../bill/bill_list.html" class="bill_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../report/report_list.html" class="report_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_info.html" class="information_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_modi_pwd.html" class="password_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--导航区域结束--&gt;
&lt;!--主要区域开始--&gt;
&lt;div id="main"&gt;
&lt;form action="" method=""&gt;
&lt;!--排序--&gt;
&lt;div class="search_add"&gt;
&lt;div&gt;
&lt;!--&lt;input type="button" value="月租" class="sort_asc" onclick="sort(this);" /&gt;--&gt;
&lt;input type="button" value="基费" class="sort_asc" onclick="sort(this);" /&gt;
&lt;input type="button" value="时长" class="sort_asc" onclick="sort(this);" /&gt;
&lt;/div&gt;
&lt;input type="button" value="增加" class="btn_add" onclick="location.href='toAddCost';" /&gt;
&lt;/div&gt;
&lt;!--启用操作的操作提示--&gt;
&lt;div id="operate_result_info" class="operate_success"&gt;
&lt;img src="../images/close.png" onclick="this.parentNode.style.display='none';" /&gt;
删除成功！
&lt;/div&gt;
&lt;!--数据区域：用表格展示数据--&gt;
&lt;div id="data"&gt;
&lt;table id="datalist"&gt;
&lt;tr&gt;
&lt;th&gt;资费ID&lt;/th&gt;
&lt;th class="width100"&gt;资费名称&lt;/th&gt;
&lt;th&gt;基本时长&lt;/th&gt;
&lt;th&gt;基本费用&lt;/th&gt;
&lt;th&gt;单位费用&lt;/th&gt;
&lt;th&gt;创建时间&lt;/th&gt;
&lt;th&gt;开通时间&lt;/th&gt;
&lt;th class="width50"&gt;状态&lt;/th&gt;
&lt;th class="width200"&gt;&lt;/th&gt;
&lt;/tr&gt;

#cold_bold&lt;!--使用Struts2标签遍历集合，使用OGNL表达式输出内容。 --&gt;
#cold_bold&lt;s:iterator value="costs"&gt;
#cold_bold	&lt;tr&gt;
#cold_bold	&lt;td&gt;&lt;s:property value="id"/&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;a href="fee_detail.html"&gt;&lt;s:property value="name"/&gt;&lt;/a&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;s:property value="baseDuration"/&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;s:property value="baseCost"/&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;s:property value="unitCost"/&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;s:property value="createTime"/&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;&lt;s:property value="startTime"/&gt;&lt;/td&gt;
#cold_bold	&lt;td&gt;
#cold_bold		&lt;s:if test="status==0"&gt;开通&lt;/s:if&gt;
#cold_bold		&lt;s:else&gt;暂停&lt;/s:else&gt;
#cold_bold	&lt;/td&gt;
#cold_bold	&lt;td&gt;
#cold_bold	&lt;input type="button" value="启用" class="btn_start" onclick="startFee();" /&gt;
#cold_bold	&lt;input type="button" value="修改" class="btn_modify" onclick="location.href='toUpdateCost?id=&lt;s:property value="id"/&gt;';" /&gt;
#cold_bold	&lt;input type="button" value="删除" class="btn_delete" onclick="deleteFee(&lt;s:property value="id"/&gt;);" /&gt;
#cold_bold	&lt;/td&gt;
#cold_bold	&lt;/tr&gt;
#cold_bold&lt;/s:iterator&gt;

&lt;/table&gt;
&lt;p&gt;业务说明：&lt;br /&gt;
                    1、创建资费时，状态为暂停，记载创建时间；&lt;br /&gt;
                    2、暂停状态下，可修改，可删除；&lt;br /&gt;
                    3、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；&lt;br /&gt;
                    4、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）
&lt;/p&gt;
&lt;/div&gt;
&lt;!--分页--&gt;
&lt;div id="pages"&gt;
	&lt;a href="#"&gt;上一页&lt;/a&gt;
&lt;a href="#" class="current_page"&gt;1&lt;/a&gt;
&lt;a href="#"&gt;2&lt;/a&gt;
&lt;a href="#"&gt;3&lt;/a&gt;
&lt;a href="#"&gt;4&lt;/a&gt;
&lt;a href="#"&gt;5&lt;/a&gt;
&lt;a href="#"&gt;下一页&lt;/a&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;!--主要区域结束--&gt;
&lt;div id="footer"&gt;
&lt;p&gt;[源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目]&lt;/p&gt;
&lt;p&gt;版权所有(C)加拿大达内IT培训集团公司&lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre></div></div>
      <p>重新部署并启动tomcat，访问资费列表页面，效果如下图：</p>
      <div class="image">
        <img src="./CASE_files/image021.png">
        <p>图-21</p>
      </div>
      <h3>5.4 完整代码</h3>
      <p>本案例的完整代码如下。</p>
      <p>find_cost.jsp完整代码：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">&lt;%</span>@page pageEncoding<span class="sh_symbol">=</span><span class="sh_string">"utf-8"</span> isELIgnored<span class="sh_symbol">=</span><span class="sh_string">"false"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;%</span>@taglib uri<span class="sh_symbol">=</span><span class="sh_string">"/struts-tags"</span> prefix<span class="sh_symbol">=</span><span class="sh_string">"s"</span><span class="sh_symbol">%&gt;</span></li><li><span class="sh_symbol">&lt;!</span>DOCTYPE html PUBLIC <span class="sh_string">"-//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="sh_string">"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>html xmlns<span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/1999/xhtml"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>meta http<span class="sh_symbol">-</span>equiv<span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span> content<span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=utf-8"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>title<span class="sh_symbol">&gt;</span>达内－NetCTOSS<span class="sh_symbol">&lt;/</span>title<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>link type<span class="sh_symbol">=</span><span class="sh_string">"text/css"</span> rel<span class="sh_symbol">=</span><span class="sh_string">"stylesheet"</span> media<span class="sh_symbol">=</span><span class="sh_string">"all"</span> href<span class="sh_symbol">=</span><span class="sh_string">"../styles/global_color.css"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>script language<span class="sh_symbol">=</span><span class="sh_string">"javascript"</span> type<span class="sh_symbol">=</span><span class="sh_string">"text/javascript"</span><span class="sh_symbol">&gt;</span></li><li>            <span class="sh_comment">//排序按钮的点击事件</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">sort</span><span class="sh_symbol">(</span>btnObj<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li><span class="sh_keyword">if</span> <span class="sh_symbol">(</span>btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">==</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">)</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_asc"</span><span class="sh_symbol">;</span></li><li><span class="sh_keyword">else</span></li><li>                    btnObj<span class="sh_symbol">.</span>className <span class="sh_symbol">=</span> <span class="sh_string">"sort_desc"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li><span style="display:none;">&nbsp;</span></li><li>            <span class="sh_comment">//启用</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">startFee</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要启用此资费吗？资费启用后将不能修改和删除。"</span><span class="sh_symbol">);</span></li><li>document<span class="sh_symbol">.</span><span class="sh_function">getElementById</span><span class="sh_symbol">(</span><span class="sh_string">"operate_result_info"</span><span class="sh_symbol">).</span>style<span class="sh_symbol">.</span>display <span class="sh_symbol">=</span> <span class="sh_string">"block"</span><span class="sh_symbol">;</span></li><li>            <span class="sh_cbracket">}</span></li><li>            <span class="sh_comment">//删除</span></li><li><span class="sh_keyword">function</span> <span class="sh_function">deleteFee</span><span class="sh_symbol">(</span>id<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>                <span class="sh_keyword">var</span> r <span class="sh_symbol">=</span> window<span class="sh_symbol">.</span><span class="sh_function">confirm</span><span class="sh_symbol">(</span><span class="sh_string">"确定要删除此资费吗？"</span><span class="sh_symbol">);</span></li><li><span class="sh_keyword">if</span><span class="sh_symbol">(</span>r<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">// 如果用户确认，则调用删除资费action</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;window<span class="sh_symbol">.</span>location<span class="sh_symbol">.</span>href <span class="sh_symbol">=</span> <span class="sh_string">"deleteCost?id="</span><span class="sh_symbol">+</span>id<span class="sh_symbol">;</span></li><li>                <span class="sh_cbracket">}</span></li><li>            <span class="sh_cbracket">}</span></li><li><span class="sh_symbol">&lt;/</span>script<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>head<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"header"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/logo.png"</span> alt<span class="sh_symbol">=</span><span class="sh_string">"logo"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"left"</span><span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;[</span>退出<span class="sh_symbol">]&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>Logo区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"navi"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>ul id<span class="sh_symbol">=</span><span class="sh_string">"menu"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../index.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"index_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../role/role_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"role_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../admin/admin_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"admin_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../fee/fee_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"fee_on"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../account/account_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"account_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../service/service_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"service_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../bill/bill_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"bill_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../report/report_list.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"report_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_info.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"information_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>li<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"../user/user_modi_pwd.html"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"password_off"</span><span class="sh_symbol">&gt;&lt;</span><span class="sh_regexp">/a&gt;&lt;/</span>li<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>ul<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>导航区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域开始<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"main"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>form action<span class="sh_symbol">=</span><span class="sh_string">""</span> method<span class="sh_symbol">=</span><span class="sh_string">""</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>排序<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"search_add"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"月租"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;--&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"基费"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"时长"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"sort_asc"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"sort(this);"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"增加"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_add"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='toAddCost';"</span> <span class="sh_symbol">/&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>启用操作的操作提示<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"operate_result_info"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"operate_success"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>img src<span class="sh_symbol">=</span><span class="sh_string">"../images/close.png"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"this.parentNode.style.display='none';"</span> <span class="sh_symbol">/&gt;</span></li><li>                    删除成功！</li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>数据区域：用表格展示数据<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"data"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>table id<span class="sh_symbol">=</span><span class="sh_string">"datalist"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>资费ID<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width100"</span><span class="sh_symbol">&gt;</span>资费名称<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本时长<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>基本费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>单位费用<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>创建时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th<span class="sh_symbol">&gt;</span>开通时间<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width50"</span><span class="sh_symbol">&gt;</span>状态<span class="sh_symbol">&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>th <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"width200"</span><span class="sh_symbol">&gt;&lt;/</span>th<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;!--</span> 使用Struts2标签遍历集合，使用OGNL表达式输出内容。 <span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span>iterator value<span class="sh_symbol">=</span><span class="sh_string">"costs"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>tr<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"id"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"fee_detail.html"</span><span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"name"</span><span class="sh_regexp">/&gt;&lt;/</span>a<span class="sh_symbol">&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"baseDuration"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"baseCost"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"unitCost"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"createTime"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;&lt;</span>s<span class="sh_symbol">:</span>property value<span class="sh_symbol">=</span><span class="sh_string">"startTime"</span><span class="sh_regexp">/&gt;&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span><span class="sh_keyword">if</span> test<span class="sh_symbol">=</span><span class="sh_string">"status==0"</span><span class="sh_symbol">&gt;</span>开通<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span><span class="sh_keyword">if</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>s<span class="sh_symbol">:</span><span class="sh_keyword">else</span><span class="sh_symbol">&gt;</span>暂停<span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span><span class="sh_keyword">else</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"启用"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_start"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"startFee();"</span> <span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"修改"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_modify"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"location.href='toUpdateCost?id=&lt;s:property value="</span>id<span class="sh_string">"/&gt;';"</span> <span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>input type<span class="sh_symbol">=</span><span class="sh_string">"button"</span> value<span class="sh_symbol">=</span><span class="sh_string">"删除"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"btn_delete"</span> onclick<span class="sh_symbol">=</span><span class="sh_string">"deleteFee(&lt;s:property value="</span>id<span class="sh_string">"/&gt;);"</span> <span class="sh_symbol">/&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>td<span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;/</span>tr<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>s<span class="sh_symbol">:</span>iterator<span class="sh_symbol">&gt;</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">&lt;/</span>table<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>业务说明：<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">1</span>、创建资费时，状态为暂停，记载创建时间；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">2</span>、暂停状态下，可修改，可删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">3</span>、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；<span class="sh_symbol">&lt;</span><span class="sh_normal">br </span><span class="sh_symbol">/&gt;</span></li><li>                    <span class="sh_number">4</span>、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）</li><li><span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>分页<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"pages"</span><span class="sh_symbol">&gt;</span></li><li>&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>上一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span> <span class="sh_keyword">class</span><span class="sh_symbol">=</span><span class="sh_string">"current_page"</span><span class="sh_symbol">&gt;</span><span class="sh_number">1</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">2</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">3</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">4</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span><span class="sh_number">5</span><span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>a href<span class="sh_symbol">=</span><span class="sh_string">"#"</span><span class="sh_symbol">&gt;</span>下一页<span class="sh_symbol">&lt;/</span>a<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>form<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;!--</span>主要区域结束<span class="sh_symbol">--&gt;</span></li><li><span class="sh_symbol">&lt;</span>div id<span class="sh_symbol">=</span><span class="sh_string">"footer"</span><span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;[</span>源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目<span class="sh_symbol">]&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;</span>p<span class="sh_symbol">&gt;</span>版权所有<span class="sh_symbol">(</span>C<span class="sh_symbol">)</span>加拿大达内IT培训集团公司 <span class="sh_symbol">&lt;/</span>p<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>div<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>body<span class="sh_symbol">&gt;</span></li><li><span class="sh_symbol">&lt;/</span>html<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">&lt;%@page pageEncoding="utf-8" isELIgnored="false"%&gt;
&lt;%@taglib uri="/struts-tags" prefix="s"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
&lt;title&gt;达内－NetCTOSS&lt;/title&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global.css" /&gt;
&lt;link type="text/css" rel="stylesheet" media="all" href="../styles/global_color.css" /&gt;
&lt;script language="javascript" type="text/javascript"&gt;
            //排序按钮的点击事件
function sort(btnObj) {
if (btnObj.className == "sort_desc")
                    btnObj.className = "sort_asc";
else
                    btnObj.className = "sort_desc";
            }

            //启用
function startFee() {
                var r = window.confirm("确定要启用此资费吗？资费启用后将不能修改和删除。");
document.getElementById("operate_result_info").style.display = "block";
            }
            //删除
function deleteFee(id) {
                var r = window.confirm("确定要删除此资费吗？");
if(r) {
	// 如果用户确认，则调用删除资费action
	window.location.href = "deleteCost?id="+id;
                }
            }
&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--Logo区域开始--&gt;
&lt;div id="header"&gt;
&lt;img src="../images/logo.png" alt="logo" class="left"/&gt;
&lt;a href="#"&gt;[退出]&lt;/a&gt;
&lt;/div&gt;
&lt;!--Logo区域结束--&gt;
&lt;!--导航区域开始--&gt;
&lt;div id="navi"&gt;
&lt;ul id="menu"&gt;
&lt;li&gt;&lt;a href="../index.html" class="index_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../role/role_list.html" class="role_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../admin/admin_list.html" class="admin_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../fee/fee_list.html" class="fee_on"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../account/account_list.html" class="account_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../service/service_list.html" class="service_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../bill/bill_list.html" class="bill_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../report/report_list.html" class="report_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_info.html" class="information_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="../user/user_modi_pwd.html" class="password_off"&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;!--导航区域结束--&gt;
&lt;!--主要区域开始--&gt;
&lt;div id="main"&gt;
&lt;form action="" method=""&gt;
&lt;!--排序--&gt;
&lt;div class="search_add"&gt;
&lt;div&gt;
&lt;!--&lt;input type="button" value="月租" class="sort_asc" onclick="sort(this);" /&gt;--&gt;
&lt;input type="button" value="基费" class="sort_asc" onclick="sort(this);" /&gt;
&lt;input type="button" value="时长" class="sort_asc" onclick="sort(this);" /&gt;
&lt;/div&gt;
&lt;input type="button" value="增加" class="btn_add" onclick="location.href='toAddCost';" /&gt;
&lt;/div&gt;
&lt;!--启用操作的操作提示--&gt;
&lt;div id="operate_result_info" class="operate_success"&gt;
&lt;img src="../images/close.png" onclick="this.parentNode.style.display='none';" /&gt;
                    删除成功！
&lt;/div&gt;
&lt;!--数据区域：用表格展示数据--&gt;
&lt;div id="data"&gt;
&lt;table id="datalist"&gt;
&lt;tr&gt;
&lt;th&gt;资费ID&lt;/th&gt;
&lt;th class="width100"&gt;资费名称&lt;/th&gt;
&lt;th&gt;基本时长&lt;/th&gt;
&lt;th&gt;基本费用&lt;/th&gt;
&lt;th&gt;单位费用&lt;/th&gt;
&lt;th&gt;创建时间&lt;/th&gt;
&lt;th&gt;开通时间&lt;/th&gt;
&lt;th class="width50"&gt;状态&lt;/th&gt;
&lt;th class="width200"&gt;&lt;/th&gt;
&lt;/tr&gt;

&lt;!-- 使用Struts2标签遍历集合，使用OGNL表达式输出内容。 --&gt;
&lt;s:iterator value="costs"&gt;
	&lt;tr&gt;
	&lt;td&gt;&lt;s:property value="id"/&gt;&lt;/td&gt;
	&lt;td&gt;&lt;a href="fee_detail.html"&gt;&lt;s:property value="name"/&gt;&lt;/a&gt;&lt;/td&gt;
	&lt;td&gt;&lt;s:property value="baseDuration"/&gt;&lt;/td&gt;
	&lt;td&gt;&lt;s:property value="baseCost"/&gt;&lt;/td&gt;
	&lt;td&gt;&lt;s:property value="unitCost"/&gt;&lt;/td&gt;
	&lt;td&gt;&lt;s:property value="createTime"/&gt;&lt;/td&gt;
	&lt;td&gt;&lt;s:property value="startTime"/&gt;&lt;/td&gt;
	&lt;td&gt;
		&lt;s:if test="status==0"&gt;开通&lt;/s:if&gt;
		&lt;s:else&gt;暂停&lt;/s:else&gt;
	&lt;/td&gt;
	&lt;td&gt;
	&lt;input type="button" value="启用" class="btn_start" onclick="startFee();" /&gt;
	&lt;input type="button" value="修改" class="btn_modify" onclick="location.href='toUpdateCost?id=&lt;s:property value="id"/&gt;';" /&gt;
	&lt;input type="button" value="删除" class="btn_delete" onclick="deleteFee(&lt;s:property value="id"/&gt;);" /&gt;
	&lt;/td&gt;
	&lt;/tr&gt;
&lt;/s:iterator&gt;

&lt;/table&gt;
&lt;p&gt;业务说明：&lt;br /&gt;
                    1、创建资费时，状态为暂停，记载创建时间；&lt;br /&gt;
                    2、暂停状态下，可修改，可删除；&lt;br /&gt;
                    3、开通后，记载开通时间，且开通后不能修改、不能再停用、也不能删除；&lt;br /&gt;
                    4、业务账号修改资费时，在下月底统一触发，修改其关联的资费ID（此触发动作由程序处理）
&lt;/p&gt;
&lt;/div&gt;
&lt;!--分页--&gt;
&lt;div id="pages"&gt;
	&lt;a href="#"&gt;上一页&lt;/a&gt;
&lt;a href="#" class="current_page"&gt;1&lt;/a&gt;
&lt;a href="#"&gt;2&lt;/a&gt;
&lt;a href="#"&gt;3&lt;/a&gt;
&lt;a href="#"&gt;4&lt;/a&gt;
&lt;a href="#"&gt;5&lt;/a&gt;
&lt;a href="#"&gt;下一页&lt;/a&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/div&gt;
&lt;!--主要区域结束--&gt;
&lt;div id="footer"&gt;
&lt;p&gt;[源自北美的技术，最优秀的师资，最真实的企业环境，最适用的实战项目]&lt;/p&gt;
&lt;p&gt;版权所有(C)加拿大达内IT培训集团公司 &lt;/p&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://pdf7.tarena.com.cn/tts8_source/ttsPage/JAVA/JSD_V05/STRUTS2/DAY02/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>其他代码不变，不再重复。</p>
    </div>
  
<div style="position: static; width: 0px; height: 0px; border: none; padding: 0px; margin: 0px;"><div id="trans-tooltip"><div id="tip-left-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-left-top.png&quot;);"></div><div id="tip-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-top.png&quot;) repeat-x;"></div><div id="tip-right-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-right-top.png&quot;);"></div><div id="tip-right" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-right.png&quot;) repeat-y;"></div><div id="tip-right-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-right-bottom.png&quot;);"></div><div id="tip-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-bottom.png&quot;) repeat-x;"></div><div id="tip-left-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-left-bottom.png&quot;);"></div><div id="tip-left" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-left.png&quot;);"></div><div id="trans-content"></div></div><div id="tip-arrow-bottom" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-arrow-bottom.png&quot;);"></div><div id="tip-arrow-top" style="background: url(&quot;chrome-extension://ikkepelhgbcgmhhmcmpfkjmchccjblkd/imgs/map/tip-arrow-top.png&quot;);"></div></div></body></html>